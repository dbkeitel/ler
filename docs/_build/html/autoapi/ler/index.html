<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ler &mdash; ler 0.2.2 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=000c92bf"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ler
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ler/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.ler</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="source_population/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.source_population</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="lens_galaxy_population/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="multiprocessing_routine/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.multiprocessing_routine</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="helperroutines/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.helperroutines</span></code></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ler</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/autoapi/ler/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-ler">
<span id="ler"></span><h1><a class="reference internal" href="#module-ler" title="ler"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler</span></code></a><a class="headerlink" href="#module-ler" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="helperroutines/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.helperroutines</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="lens_galaxy_population/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.lens_galaxy_population</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ler/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.ler</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="multiprocessing_routine/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.multiprocessing_routine</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="source_population/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ler.source_population</span></code></a></li>
</ul>
</div>
</section>
<section id="package-contents">
<h2>Package Contents<a class="headerlink" href="#package-contents" title="Link to this heading"></a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR" title="ler.LeR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LeR</span></code></a></p></td>
<td><p>Class to calculate both the rates of lensed and unlensed events.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation" title="ler.LensGalaxyPopulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LensGalaxyPopulation</span></code></a></p></td>
<td><p>Class to sample lens galaxy parameters</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel" title="ler.SourceGalaxyPopulationModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SourceGalaxyPopulationModel</span></code></a></p></td>
<td><p>Class to generate a population of source galaxies.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.CompactBinaryPopulation" title="ler.CompactBinaryPopulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code></a></p></td>
<td><p>Class to generate a population of compact binaries. Inherits from <code class="xref py py-class docutils literal notranslate"><span class="pre">SourceGalaxyPopulationModel</span></code> class.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h3>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.solve_lens_equation1" title="ler.solve_lens_equation1"><code class="xref py py-obj docutils literal notranslate"><span class="pre">solve_lens_equation1</span></code></a>(lens_parameters)</p></td>
<td><p>Function to solve the lens equation (min_image = 2)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.solve_lens_equation2" title="ler.solve_lens_equation2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">solve_lens_equation2</span></code></a>(lens_parameters)</p></td>
<td><p>Function to solve the lens equation (min_image &gt; 2)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.add_dictionaries_together" title="ler.add_dictionaries_together"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_dictionaries_together</span></code></a>(dictionary1, dictionary2)</p></td>
<td><p>Adds two dictionaries with the same keys together.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.rejection_sample" title="ler.rejection_sample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rejection_sample</span></code></a>(pdf, xmin, xmax[, size])</p></td>
<td><p>Helper function for rejection sampling from a pdf with maximum and minimum arguments.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="ler.LeR">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.</span></span><span class="sig-name descname"><span class="pre">LeR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">int(4)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_finder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gwsnr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_file_ler_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./LeR_params.json'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR" title="Link to this definition"></a></dt>
<dd><p>Class to calculate both the rates of lensed and unlensed events.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nsamples</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples for sampling.
default nsamples = 100000.</p>
</dd>
<dt><strong>npool</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of cores to use.
default npool = 4.</p>
</dd>
<dt><strong>z_min</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>minimum redshift.
default z_min = 0.
for popI_II, popIII, primordial, BNS z_min = 0., 5., 5., 0. respectively.</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>maximum redshift.
default z_max = 10.
for popI_II, popIII, primordial, BNS z_max = 10., 40., 40., 2. respectively.</p>
</dd>
<dt><strong>batch_size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>batch size for SNR calculation.
default batch_size = 25000.
reduce the batch size if you are getting memory error.</p>
</dd>
<dt><strong>snr_finder</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>default snr_finder = ‘gwsnr’.
if ‘gwsnr’, the SNR will be calculated using the gwsnr package.
if ‘custom’, the SNR will be calculated using a custom function.</p>
</dd>
<dt><strong>json_file_ler_param: `str`</strong></dt><dd><p>default json_file_ler_param = ‘ler_param.json’.
json file containing the parameters for initializing the <a class="reference internal" href="#ler.LeR" title="ler.LeR"><code class="xref py py-class docutils literal notranslate"><span class="pre">LeR</span></code></a> class, <a class="reference internal" href="#ler.CompactBinaryPopulation" title="ler.CompactBinaryPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code></a> class, <a class="reference internal" href="#ler.LensGalaxyPopulation" title="ler.LensGalaxyPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">LensGalaxyPopulation</span></code></a> class, <code class="xref py py-class docutils literal notranslate"><span class="pre">GWSNR</span></code> class.</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier"><cite>keyword arguments</cite></span></dt><dd><p>Note : kwargs takes input for initializing the <a class="reference internal" href="#ler.CompactBinaryPopulation" title="ler.CompactBinaryPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code></a>, <a class="reference internal" href="#ler.LensGalaxyPopulation" title="ler.LensGalaxyPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">LensGalaxyPopulation</span></code></a>, <a class="reference internal" href="#ler.LeR.gwsnr_intialization" title="ler.LeR.gwsnr_intialization"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gwsnr_intialization()</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<ul class="simple">
<li><p>class initialization</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ler</span></code> needs <a class="reference external" href="https://github.com/hemantaph/gwsnr/">gwsnr</a>.</p></li>
<li><p>generation of <code class="docutils literal notranslate"><span class="pre">gwsnr</span></code> snr interpolator will take time at the first initialization. The interpolator will be stored in the working dir.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m_min</span></code>, <code class="docutils literal notranslate"><span class="pre">m_max</span></code> were used for initializing the <code class="docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code> class. <code class="docutils literal notranslate"><span class="pre">waveform_approximant</span></code> was used for initializing the <code class="docutils literal notranslate"><span class="pre">snr_calculator</span></code> (<code class="docutils literal notranslate"><span class="pre">gwsnr</span></code>) class. <code class="docutils literal notranslate"><span class="pre">min_lensed_images</span></code> was used for initializing the <code class="docutils literal notranslate"><span class="pre">LensGalaxyPopulation</span></code> class.</p></li>
</ul>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">LeR</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ler_</span> <span class="o">=</span> <span class="n">LeR</span><span class="p">(</span><span class="n">nsamples</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span> <span class="n">npool</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">z_min</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mf">10.</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">25000</span><span class="p">,</span> <span class="n">snr_finder</span><span class="o">=</span><span class="s1">&#39;gwsnr&#39;</span><span class="p">,</span> <span class="n">m_min</span><span class="o">=</span><span class="mf">4.59</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">86.22</span><span class="p">,</span> <span class="n">waveform_approximant</span><span class="o">=</span><span class="s1">&#39;IMRPhenomD&#39;</span><span class="p">,</span> <span class="n">min_lensed_images</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Given: IMR waveform</span>
<span class="go">psds not given. Choosing bilby&#39;s default psds</span>
<span class="go">getting stored interpolator...</span>
<span class="go">In case if you need regeneration of interpolator of the given gwsnr param, please delete this file, ./interpolator_pickle/halfSNR_dict_0.pickle</span>
</pre></div>
</div>
<section id="instance-attributes">
<h4>Instance Attributes<a class="headerlink" href="#instance-attributes" title="Link to this heading"></a></h4>
<p>LeR class has the following attributes,</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Atrributes</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.gw_param" title="ler.LeR.gw_param"><code class="xref py py-attr docutils literal notranslate"><span class="pre">gw_param</span></code></a></p></td>
<td><p><cite>dict</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.gw_param_detectable" title="ler.LeR.gw_param_detectable"><code class="xref py py-attr docutils literal notranslate"><span class="pre">gw_param_detectable</span></code></a></p></td>
<td><p><cite>dict</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.lensed_param" title="ler.LeR.lensed_param"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lensed_param</span></code></a></p></td>
<td><p><cite>dict</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.lensed_param_detectable" title="ler.LeR.lensed_param_detectable"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lensed_param_detectable</span></code></a></p></td>
<td><p><cite>dict</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.gw_param_sampler_dict" title="ler.LeR.gw_param_sampler_dict"><code class="xref py py-attr docutils literal notranslate"><span class="pre">gw_param_sampler_dict</span></code></a></p></td>
<td><p><cite>dict</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.lensed_param_sampler_dict" title="ler.LeR.lensed_param_sampler_dict"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lensed_param_sampler_dict</span></code></a></p></td>
<td><p><cite>dict</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.snr_calculator_dict" title="ler.LeR.snr_calculator_dict"><code class="xref py py-attr docutils literal notranslate"><span class="pre">snr_calculator_dict</span></code></a></p></td>
<td><p><cite>dict</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.z_to_Dc" title="ler.LeR.z_to_Dc"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_to_Dc</span></code></a></p></td>
<td><p><cite>scipy.interpolate.interp1d</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.Dc_to_z" title="ler.LeR.Dc_to_z"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Dc_to_z</span></code></a></p></td>
<td><p><cite>scipy.interpolate.interp1d</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.z_to_luminosity_distance" title="ler.LeR.z_to_luminosity_distance"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_to_luminosity_distance</span></code></a></p></td>
<td><p><cite>scipy.interpolate.interp1d</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.differential_comoving_volume" title="ler.LeR.differential_comoving_volume"><code class="xref py py-attr docutils literal notranslate"><span class="pre">differential_comoving_volume</span></code></a></p></td>
<td><p><cite>scipy.interpolate.interp1d</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.compact_binary_pop" title="ler.LeR.compact_binary_pop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">compact_binary_pop</span></code></a></p></td>
<td><p><cite>CompactBinaryPopulation class</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.lens_galaxy_pop" title="ler.LeR.lens_galaxy_pop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">lens_galaxy_pop</span></code></a></p></td>
<td><p><cite>LensGalaxyPopulation class</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.snr" title="ler.LeR.snr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">snr</span></code></a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">gwsnr</span></code> <cite>package</cite></p></td>
</tr>
</tbody>
</table>
</section>
<section id="instance-methods">
<h4>Instance Methods<a class="headerlink" href="#instance-methods" title="Link to this heading"></a></h4>
<p>LeR class has the following method(s),</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Method(s)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.gwsnr_intialization" title="ler.LeR.gwsnr_intialization"><code class="xref py py-meth docutils literal notranslate"><span class="pre">gwsnr_intialization()</span></code></a></p></td>
<td><p>Function for initializing the
<code class="docutils literal notranslate"><span class="pre">gwsnr</span></code> package.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.create_lookup_tables" title="ler.LeR.create_lookup_tables"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_lookup_tables()</span></code></a></p></td>
<td><p>To creating lookup tables for fast
calculation for the following
conversion operations,
redshift to co-moving distance.
co-moving distance to redshift.
redshift to luminosity distance.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.unlensed_cbc_statistics" title="ler.LeR.unlensed_cbc_statistics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unlensed_cbc_statistics()</span></code></a></p></td>
<td><p>Function to generate unlensed GW
source parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.unlensed_rate" title="ler.LeR.unlensed_rate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unlensed_rate()</span></code></a></p></td>
<td><p>Function to calculate unlensed
merger rate.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.lensed_cbc_statistics" title="ler.LeR.lensed_cbc_statistics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lensed_cbc_statistics()</span></code></a></p></td>
<td><p>Function to generate lensed GW
source parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.lensed_rate" title="ler.LeR.lensed_rate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lensed_rate()</span></code></a></p></td>
<td><p>Function to calculate lensed
merger rate.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LeR.batch_handler" title="ler.LeR.batch_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">batch_handler()</span></code></a></p></td>
<td><p>Function to handle the batch size.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LeR.store_ler_params" title="ler.LeR.store_ler_params"><code class="xref py py-meth docutils literal notranslate"><span class="pre">store_ler_params()</span></code></a></p></td>
<td><p>Fuction to store the parameters of
the LER model.</p></td>
</tr>
</tbody>
</table>
<dl class="py property">
<dt class="sig sig-object py" id="ler.LeR.gw_param">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gw_param</span></span><a class="headerlink" href="#ler.LeR.gw_param" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>gw_param is a dictionary of unlensed parameters (source parameters)</p>
<p>it will be populated when unlened_cbc_statistics() is called</p>
<p>if unavailable, the unlensed parameters will be sampled when unlensed_rate() is called</p>
<p>gw_param.keys() = [‘m1’, ‘m2’, ‘z’, ‘snr’, ‘theta_jn’, ‘ra’, ‘dec’, ‘psi’, ‘phase’, ‘geocent_time’]</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.LeR.gw_param_detectable">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gw_param_detectable</span></span><a class="headerlink" href="#ler.LeR.gw_param_detectable" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>gw_param_detectable is a dictionary of unlensed parameters (source parameters)</p>
<p>it will be populated when unlened_cbc_statistics() is called</p>
<p>if unavailable, the unlensed parameters will be sampled when unlensed_rate() is called</p>
<p>gw_param_detectable.keys() = [‘m1’, ‘m2’, ‘z’, ‘snr’, ‘theta_jn’, ‘ra’, ‘dec’, ‘psi’, ‘phase’, ‘geocent_time’]</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.LeR.lensed_param">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lensed_param</span></span><a class="headerlink" href="#ler.LeR.lensed_param" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>lensed_param is a dictionary of lensed parameters</p>
<p>it will be populated when lensed_cbc_statistics() is called</p>
<p>if unavailable, the lensed parameters will be sampled when lensed_rate() is called</p>
<p>lensed_param.keys() = [‘m1’, ‘m2’, ‘z’, ‘snr’, ‘theta_jn’, ‘ra’, ‘dec’, ‘psi’, ‘phase’, ‘geocent_time’, ‘lensed_images’]</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ler.LeR.lensed_param_detectable">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lensed_param_detectable</span></span><a class="headerlink" href="#ler.LeR.lensed_param_detectable" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">bool</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>lensed_param_detectable is a dictionary of lensed parameters</p>
<p>it will be populated when lensed_cbc_statistics() is called</p>
<p>if unavailable, the lensed parameters will be sampled when lensed_rate() is called</p>
<p>lensed_param_detectable.keys() = [‘m1’, ‘m2’, ‘z’, ‘snr’, ‘theta_jn’, ‘ra’, ‘dec’, ‘psi’, ‘phase’, ‘geocent_time’, ‘lensed_images’]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.gw_param_sampler_dict">
<span class="sig-name descname"><span class="pre">gw_param_sampler_dict</span></span><a class="headerlink" href="#ler.LeR.gw_param_sampler_dict" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>dictionary of params for initializing <code class="docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code> class</p>
<p>this will be used for GW unlensed parameters sampling</p>
<p>gw_param_sampler_dict.keys() = [‘nsamples’, ‘m_min’, ‘m_max’, ‘z_min’, ‘z_max’, ‘event_type’, ‘src_model_params’]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.lensed_param_sampler_dict">
<span class="sig-name descname"><span class="pre">lensed_param_sampler_dict</span></span><a class="headerlink" href="#ler.LeR.lensed_param_sampler_dict" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>dictionary of params for initializing <code class="docutils literal notranslate"><span class="pre">LensGalaxyPopulation</span></code> class</p>
<p>this will be used for GW lensed parameters sampling</p>
<p>lensed_param_sampler_dict.keys() = [‘nsamples’, ‘min_lensed_images’, ‘max_lensed_images’, ‘lensModelList’]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.snr_calculator_dict">
<span class="sig-name descname"><span class="pre">snr_calculator_dict</span></span><a class="headerlink" href="#ler.LeR.snr_calculator_dict" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>dictionary of params for initializing <code class="docutils literal notranslate"><span class="pre">snr_calculator</span></code> (<code class="docutils literal notranslate"><span class="pre">gwsnr</span></code>) class</p>
<p>this will be used for SNR calculation</p>
<p>snr_calculator_dict.keys() = [‘mtot_min’, ‘mtot_max’, ‘nsamples_mtot’, ‘nsamples_mass_ratio’, ‘sampling_frequency’, ‘waveform_approximant’, ‘minimum_frequency’, ‘snr_type’, ‘waveform_inspiral_must_be_above_fmin’, ‘psds’, ‘psd_file’, ‘ifos’]</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.z_to_Dc">
<span class="sig-name descname"><span class="pre">z_to_Dc</span></span><a class="headerlink" href="#ler.LeR.z_to_Dc" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">scipy.interpolate.interp1d</span></code></p>
<p>redshift to co-moving distance.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.Dc_to_z">
<span class="sig-name descname"><span class="pre">Dc_to_z</span></span><a class="headerlink" href="#ler.LeR.Dc_to_z" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">scipy.interpolate.interp1d</span></code></p>
<p>co-moving distance to redshift.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.z_to_luminosity_distance">
<span class="sig-name descname"><span class="pre">z_to_luminosity_distance</span></span><a class="headerlink" href="#ler.LeR.z_to_luminosity_distance" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">scipy.interpolate.interp1d</span></code></p>
<p>redshift to luminosity distance.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.differential_comoving_volume">
<span class="sig-name descname"><span class="pre">differential_comoving_volume</span></span><a class="headerlink" href="#ler.LeR.differential_comoving_volume" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">scipy.interpolate.interp1d</span></code></p>
<p>differential comoving volume.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.compact_binary_pop">
<span class="sig-name descname"><span class="pre">compact_binary_pop</span></span><a class="headerlink" href="#ler.LeR.compact_binary_pop" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span> <span class="pre">class</span></code></p>
<p>class for sampling GW parameters.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.lens_galaxy_pop">
<span class="sig-name descname"><span class="pre">lens_galaxy_pop</span></span><a class="headerlink" href="#ler.LeR.lens_galaxy_pop" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">LensGalaxyPopulation</span> <span class="pre">class</span></code></p>
<p>class for sampling lensed GW parameters.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LeR.snr">
<span class="sig-name descname"><span class="pre">snr</span></span><a class="headerlink" href="#ler.LeR.snr" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">gwsnr</span> <span class="pre">package</span></code></p>
<p>class for calculating SNR.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.class_initialization">
<span class="sig-name descname"><span class="pre">class_initialization</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.class_initialization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.class_initialization" title="Link to this definition"></a></dt>
<dd><p>Function for initializing the <code class="docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code> and <code class="docutils literal notranslate"><span class="pre">LensGalaxyPopulation</span></code> classes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.store_ler_params">
<span class="sig-name descname"><span class="pre">store_ler_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./LeR_params.json'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.store_ler_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.store_ler_params" title="Link to this definition"></a></dt>
<dd><p>Fuction to store the parameters of the LER model. This is useful for reproducing the results.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.gwsnr_intialization">
<span class="sig-name descname"><span class="pre">gwsnr_intialization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.gwsnr_intialization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.gwsnr_intialization" title="Link to this definition"></a></dt>
<dd><p>Function for initializing the <a class="reference external" href="https://github.com/hemantaph/gwsnr/">gwsnr</a> package.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>kwargs_dict</strong><span class="classifier">‘dict’</span></dt><dd><p>keyword arguments for the initialization of the <cite>gwsnr</cite> package.
kwargs_dict.keys()</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">nsamples_mtot</span></code><span class="classifier"><cite>int</cite></span></dt><dd><p>nsamples_mtot = 200 (recommended for accurate results)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nsamples_mass_ratio</span></code><span class="classifier"><cite>int</cite></span></dt><dd><p>nsamples_mass_ratio = 500 (recommended for accurate results)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sampling_frequency</span></code><span class="classifier"><cite>float</cite></span></dt><dd><p>sampling_frequency = 4096. (recommended for accurate results)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">waveform_approximant</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>waveform_approximant = “IMRPhenomD” (for BBH) or “TaylorF2” (for BNS)
if you want to use other approximants, please set <code class="docutils literal notranslate"><span class="pre">snr_type</span></code> = ‘inner_product’</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">minimum_frequency</span></code><span class="classifier"><cite>float</cite></span></dt><dd><p>minimum_frequency = 20. (for O3 and O4 runs) or 10. (for 3G detectors)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">snr_type</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>snr_type = ‘interpolation’ (for fast results) or ‘inner_product’ (for bilby like results)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">waveform_inspiral_must_be_above_fmin</span></code><span class="classifier"><cite>bool</cite></span></dt><dd><p>False if dont want minimum frequency cut-off as higher mass BBH can merger below that frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">psds</span></code><span class="classifier"><cite>bool</cite> or <cite>dict</cite> or <cite>str</cite> (txt file)</span></dt><dd><p>e.g. For O4 design sensitivity</p>
<blockquote>
<div><p>psds = {‘L1’:’aLIGOaLIGODesignSensitivityT1800044’,</p>
<p>‘H1’:’aLIGOaLIGODesignSensitivityT1800044’,</p>
<p>‘V1’:’AdvVirgo’}</p>
</div></blockquote>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">psd_file</span></code><span class="classifier"><cite>bool</cite>, <cite>list</cite></span></dt><dd><p>psd_file = False (if ASD) or True (if PSD file)
psd_file = [False,True] if psds[0] is a asd and psds[1] is a psd</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ifos</span></code><span class="classifier"><cite>list</cite></span></dt><dd><p>interferometer object name list
ifos = [‘L1’, ‘H1’, ‘V1’] (for O4 design sensitivity)</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>snr_</strong><span class="classifier"><cite>the gwsnr object</cite></span></dt><dd><p>gwsnr object is used to calculate the SNR and pdet (probability of detection)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.create_lookup_tables">
<span class="sig-name descname"><span class="pre">create_lookup_tables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.create_lookup_tables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.create_lookup_tables" title="Link to this definition"></a></dt>
<dd><p>To creating lookup tables for fast calculation for the following conversion operations,</p>
<ol class="arabic simple">
<li><p>redshift to co-moving distance.</p></li>
<li><p>co-moving distance to redshift.</p></li>
<li><p>redshift to luminosity distance.</p></li>
</ol>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_min</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>minimum redshift.
for popI_II, popIII, primordial, BNS z_min = 0., 5., 5., 0. respectively.</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>maximum redshift.
for popI_II, popIII, primordial, BNS z_max = 10., 40., 40., 2. respectively.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>z_to_Dc</strong><span class="classifier"><cite>scipy.interpolate.interp1d</cite></span></dt><dd><p>redshift to co-moving distance.</p>
</dd>
<dt><strong>Dc_to_z</strong><span class="classifier"><cite>scipy.interpolate.interp1d</cite></span></dt><dd><p>co-moving distance to redshift.</p>
</dd>
<dt><strong>z_to_luminosity_distance</strong><span class="classifier"><cite>scipy.interpolate.interp1d</cite></span></dt><dd><p>redshift to luminosity distance.</p>
</dd>
<dt><strong>differential_comoving_volume</strong><span class="classifier"><cite>scipy.interpolate.interp1d</cite></span></dt><dd><p>differential comoving volume.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.batch_handler">
<span class="sig-name descname"><span class="pre">batch_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampling_routine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.batch_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.batch_handler" title="Link to this definition"></a></dt>
<dd><p>Function to handle the batch size.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nsamples</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples.</p>
</dd>
<dt><strong>sampling_routine</strong><span class="classifier"><cite>function</cite></span></dt><dd><p>function to sample the parameters.
e.g. unlensed_sampling_routine() or lensed_sampling_routine()</p>
</dd>
<dt><strong>json_file</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>name of the json file to store the parameters.</p>
</dd>
<dt><strong>resume</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>if True, it will resume the sampling from the last batch.
default resume = False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.unlensed_sampling_routine">
<span class="sig-name descname"><span class="pre">unlensed_sampling_routine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.unlensed_sampling_routine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.unlensed_sampling_routine" title="Link to this definition"></a></dt>
<dd><p>Function to generate unlensed GW source parameters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nsamples</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples.
default nsamples = 100000.</p>
</dd>
<dt><strong>file_name</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>name of the json file to store the parameters.</p>
</dd>
<dt><strong>resume</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>if True, it will resume the sampling from the last batch.
default resume = False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.unlensed_cbc_statistics">
<span class="sig-name descname"><span class="pre">unlensed_cbc_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./gw_params.json'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.unlensed_cbc_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.unlensed_cbc_statistics" title="Link to this definition"></a></dt>
<dd><p>Function to generate unlensed GW source parameters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nsamples</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples.
default nsamples = 100000.</p>
</dd>
<dt><strong>resume</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>resume = False (default) or True.
if True, the function will resume from the last batch.</p>
</dd>
<dt><strong>json_file</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the parameters.
default json_file = ‘./gw_params.json’.</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>key word arguments for initializing the <code class="docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code> class.</p>
<p>This initialization is either done at the time of class initialization or at the time of calling this function.</p>
<p>Following parameters can be provided,</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">m_min</span></code><span class="classifier"><cite>float</cite></span></dt><dd><p>minimum mass of the compact binary (single).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">m_max</span></code><span class="classifier"><cite>float</cite></span></dt><dd><p>maximum mass of the compact binary (single).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">event_type</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>event_type = ‘popI_II’ or <cite>popIII</cite> or <cite>primordial</cite>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">src_model_params</span></code><span class="classifier"><cite>dict</cite></span></dt><dd><p>src_model_params = {‘alpha’: 3.63, ‘beta’: 1.26, ‘delta_m’: 4.82,</p>
<p>‘mmin’: 4.59, ‘mmax’: 86.22, ‘lambda_peak’: 0.08,</p>
<p>‘mu_g’: 33.07, ‘sigma_g’: 5.69}}</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>unlensed_gw_params</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of unlensed GW source parameters.
unlensed_gw_params.keys() = [‘m1’, ‘m2’, ‘z’, ‘snr’, ‘theta_jn’, ‘ra’, ‘dec’, ‘psi’, ‘phase’, ‘geocent_time’]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.unlensed_rate">
<span class="sig-name descname"><span class="pre">unlensed_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gw_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./gw_params.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jsonfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./gw_params_detectable.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detectability_condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step_function'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.unlensed_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.unlensed_rate" title="Link to this definition"></a></dt>
<dd><p>Function to calculate unlensed merger rate.</p>
<div class="math notranslate nohighlight">
\[R_U = \mathcal{N}^U\int dz_s R_o^U(z_s)\bigg\{\Theta[\rho(z_s,\theta)-\rho_{th}] P(\theta) d\theta \bigg\}\]</div>
<ul class="simple">
<li><p>where <span class="math notranslate nohighlight">\(\mathcal{N}^U\)</span> is the normalization factor of the unlensed merger rate distribution wrt redshift.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>gw_param</strong><span class="classifier"><cite>dict</cite> or <cite>str</cite> for json file name.</span></dt><dd><p>dictionary of unlensed GW source parameters.
default gw_param = ‘./gw_params.json’.</p>
</dd>
<dt><strong>snr_threshold</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>SNR threshold for detection.
default snr_threshold = 8.</p>
</dd>
<dt><strong>jsonfile</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the detectable parameters.
default jsonfile = ‘./gw_params_detectable.json’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>unlensed_rate</strong><span class="classifier">(<cite>float</cite>,`float`)</span></dt><dd><p>unlensed merger rate in a year
unlensed_rate[0] = total unlensed rate with step function
unlensed_rate[1] = total unlensed rate with pdet function</p>
</dd>
<dt><strong>gw_param_detectable</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of detectable unlensed GW source parameters.
gw_param_detectable.keys() = [‘m1’, ‘m2’, ‘z’, ‘snr’, ‘theta_jn’, ‘ra’, ‘dec’, ‘psi’, ‘phase’, ‘geocent_time’]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.lensed_sampling_routine">
<span class="sig-name descname"><span class="pre">lensed_sampling_routine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.lensed_sampling_routine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.lensed_sampling_routine" title="Link to this definition"></a></dt>
<dd><p>Function to generate lensed GW source parameters, lens galaxy parameters and image paramters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nsamples</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples.</p>
</dd>
<dt><strong>file_name</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>name of the json file to store the parameters.</p>
</dd>
<dt><strong>resume</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>if True, it will resume the sampling from the last batch.
default resume = False.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.lensed_cbc_statistics">
<span class="sig-name descname"><span class="pre">lensed_cbc_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./lensed_params.json'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.lensed_cbc_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.lensed_cbc_statistics" title="Link to this definition"></a></dt>
<dd><p>Function to generate lensed GW source parameters, lens galaxy parameters and image paramters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nsamples</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples.
default nsamples = 100000.</p>
</dd>
<dt><strong>resume</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>resume = False (default) or True.
if True, the function will resume from the last batch.</p>
</dd>
<dt><strong>json_file</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the parameters.
default json_file = ‘./lensed_params.json’.</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>key word arguments for initializing the <code class="docutils literal notranslate"><span class="pre">LensGalaxyPopulation</span></code> class.</p>
<p>This initialization is either done at the time of class initialization or at the time of calling this function.</p>
<p>Following parameters can be provided,</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">min_lensed_images</span></code><span class="classifier"><cite>int</cite></span></dt><dd><p>minimum number of lensed images.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_lensed_images</span></code><span class="classifier"><cite>int</cite></span></dt><dd><p>maximum number of lensed images.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lensModelList</span></code><span class="classifier"><cite>list</cite></span></dt><dd><p>list of lens models.
e.g. lensModelList = [‘EPL_NUMBA’, ‘SHEAR’].</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lensed_param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lensed GW source parameters, lens galaxy parameters and image paramters.
lensed_param.keys() = [‘zl’, ‘zs’, ‘sigma’, ‘q’, ‘e1’, ‘e2’, ‘gamma1’, ‘gamma2’, ‘Dl’,
‘Ds’, ‘Dls’, ‘theta_E’, ‘gamma’, ‘mass_1’, ‘mass_2’, ‘mass_1_source’, ‘mass_2_source’,
‘luminosity_distance’, ‘iota’, ‘psi’, ‘phase’, ‘geocent_time’, ‘ra’, ‘dec’, ‘n_images’,
‘x0_image_positions’, ‘x1_image_positions’, ‘magnifications’, ‘time_delays’, ‘traces’,
‘determinants’, ‘image_type’, ‘weights’, ‘opt_snr_net’, ‘L1’, ‘H1’, ‘V1’]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.lensed_rate">
<span class="sig-name descname"><span class="pre">lensed_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lensed_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./lensed_params.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_img</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jsonfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./lensed_params_detectable.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">none_as_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detectability_condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step_function'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.lensed_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.lensed_rate" title="Link to this definition"></a></dt>
<dd><p>Function to calculate lensed merger rate.</p>
<div class="math notranslate nohighlight">
\[R_L = \mathcal{N}^L\int dz_s R_o^L(z_s)\bigg\{\Theta[\rho(z_s,\theta)-\rho_{th}] P(\theta) d\theta \bigg\}\]</div>
<ul class="simple">
<li><p>where <span class="math notranslate nohighlight">\(\mathcal{N}^L\)</span> is the normalization factor of the lensed merger rate distribution wrt redshift.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lensed_param</strong><span class="classifier"><cite>dict</cite> or <cite>str</cite> for the json file name.</span></dt><dd><p>dictionary of lensed GW source parameters, lens galaxy parameters and image paramters.
lensed_param.keys() = [‘zl’, ‘zs’, ‘sigma’, ‘q’, ‘e1’, ‘e2’, ‘gamma1’, ‘gamma2’, ‘Dl’,
‘Ds’, ‘Dls’, ‘theta_E’, ‘gamma’, ‘mass_1’, ‘mass_2’, ‘mass_1_source’, ‘mass_2_source’,
‘luminosity_distance’, ‘iota’, ‘psi’, ‘phase’, ‘geocent_time’, ‘ra’, ‘dec’, ‘n_images’,
‘x0_image_positions’, ‘x1_image_positions’, ‘magnifications’, ‘time_delays’, ‘traces’,
‘determinants’, ‘image_type’, ‘weights’, ‘opt_snr_net’, ‘L1’, ‘H1’, ‘V1’]</p>
</dd>
<dt><strong>snr_threshold</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>threshold for detection signal to noise ratio.
e.g. snr_threshold = 8.</p>
</dd>
<dt><strong>num_img</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of images.
e.g. num_img = 2.</p>
</dd>
<dt><strong>jsonfile</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the parameters.
default jsonfile = ‘./lensed_params_detectable.json’.</p>
</dd>
<dt><strong>none_as_nan</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>if True, replace None with np.nan in the lensed_param dictionary.
default none_as_nan = True.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lensed_rate</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>lensed merger rate in a year.
lensed_rate[0] = total lensed rate with step function
lensed_rate[1] = total lensed rate with pdet function</p>
</dd>
<dt><strong>detectable_lensed_param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of detectable lensed GW source parameters, lens galaxy parameters and image paramters.
detectable_lensed_param.keys() = [‘zl’, ‘zs’, ‘sigma’, ‘q’, ‘e1’, ‘e2’, ‘gamma1’, ‘gamma2’,
‘Dl’, ‘Ds’, ‘Dls’, ‘theta_E’, ‘gamma’, ‘mass_1’, ‘mass_2’, ‘mass_1_source’, ‘mass_2_source’,
‘luminosity_distance’, ‘iota’, ‘psi’, ‘phase’, ‘geocent_time’, ‘ra’, ‘dec’, ‘n_images’,
‘x0_image_positions’, ‘x1_image_positions’, ‘magnifications’, ‘time_delays’, ‘traces’,
‘determinants’, ‘image_type’, ‘weights’, ‘opt_snr_net’, ‘L1’, ‘H1’, ‘V1’]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.rate_comparision">
<span class="sig-name descname"><span class="pre">rate_comparision</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detectability_condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step_function'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.rate_comparision"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.rate_comparision" title="Link to this definition"></a></dt>
<dd><p>Function to calculate unlensed and lensed merger rate and their ratio.
It will get the unlensed_rate and lensed_rate from json_file_ler_param=”./LeR_params.json”</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>detectability_condition</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>detectability condition, either “step_function” or “pdet_function”</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>unlensed_rate</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>unlensed merger rate</p>
</dd>
<dt><strong>lensed_rate</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>lensed merger rate</p>
</dd>
<dt><strong>ratio</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>ratio of lensed_rate and unlensed_rate</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.rate_comparision_with_rate_calculation">
<span class="sig-name descname"><span class="pre">rate_comparision_with_rate_calculation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snr_threshold_unlensed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unlened_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./gw_params.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_threshold_lensed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_img</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lensed_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./lensed_params.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jsonfile_unlensed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./gw_params_detectable.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jsonfile_lensed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./lensed_params_detectable.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detectability_condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'step_function'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.rate_comparision_with_rate_calculation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.rate_comparision_with_rate_calculation" title="Link to this definition"></a></dt>
<dd><p>Function to calculate unlensed and lensed merger rate and their ratio.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>snr_threshold_unlensed</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>threshold for detection signal to noise ratio for unlensed case.
e.g. snr_threshold_unlensed = 8.</p>
</dd>
<dt><strong>unlened_param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of unlensed GW source parameters.
unlened_param.keys() = [‘m1’, ‘m2’, ‘z’, ‘snr’, ‘theta_jn’, ‘ra’, ‘dec’, ‘psi’, ‘phase’, ‘geocent_time’]</p>
</dd>
<dt><strong>snr_threshold_lensed</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>threshold for detection signal to noise ratio for lensed case.
e.g. snr_threshold_lensed = 8.</p>
</dd>
<dt><strong>num_img</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of images crossing the threshold.
e.g. num_img = 2.</p>
</dd>
<dt><strong>lensed_param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lensed GW source parameters, lens galaxy parameters and image paramters.
lensed_param.keys() = [‘zl’, ‘zs’, ‘sigma’, ‘q’, ‘e1’, ‘e2’, ‘gamma1’, ‘gamma2’, ‘Dl’,
‘Ds’, ‘Dls’, ‘theta_E’, ‘gamma’, ‘mass_1’, ‘mass_2’, ‘mass_1_source’, ‘mass_2_source’,
‘luminosity_distance’, ‘iota’, ‘psi’, ‘phase’, ‘geocent_time’, ‘ra’, ‘dec’, ‘n_images’,
‘x0_image_positions’, ‘x1_image_positions’, ‘magnifications’, ‘time_delays’, ‘traces’,
‘determinants’, ‘image_type’, ‘weights’, ‘opt_snr_net’, ‘L1’, ‘H1’, ‘V1’]</p>
</dd>
<dt><strong>jsonfile_unlensed</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the parameters for unlensed detectable case.
default jsonfile_unlensed = ‘./gw_params_detectable.json’.</p>
</dd>
<dt><strong>jsonfile_lensed</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the parameters for lensed detectable case.
default jsonfile_lensed = ‘./lensed_params_detectable.json’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>unlensed_rate</strong><span class="classifier">(<cite>float</cite>,`float`)</span></dt><dd><p>unlensed merger rate in a year
unlensed_rate[0] = total unlensed rate with step function
unlensed_rate[1] = total unlensed rate with pdet function</p>
</dd>
<dt><strong>lensed_rate</strong><span class="classifier">(<cite>float</cite>,`float`)</span></dt><dd><p>lensed merger rate in a year
lensed_rate[0] = total lensed rate with step function
lensed_rate[1] = total lensed rate with pdet function</p>
</dd>
<dt><strong>rate_ratio</strong><span class="classifier">(<cite>float</cite>,`float`)</span></dt><dd><p>unlensed/lensed rate ratio
rate_ratio[0] = total unlensed/lensed rate ratio with step function
rate_ratio[1] = total unlensed/lensed rate ratio with pdet function</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.selecting_n_lensed_detectable_events">
<span class="sig-name descname"><span class="pre">selecting_n_lensed_detectable_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_img</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./lensed_params_detectable.json'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.selecting_n_lensed_detectable_events"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.selecting_n_lensed_detectable_events" title="Link to this definition"></a></dt>
<dd><p>Function to select n lensed detectable events.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nsamples</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples to be selected.
default size = 100.</p>
</dd>
<dt><strong>snr_threshold</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>threshold for detection signal to noise ratio.
e.g. snr_threshold = 8. or [8.,6.]</p>
</dd>
<dt><strong>num_img</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of images crossing the threshold.
e.g. num_img = 2 or [1,1]</p>
</dd>
<dt><strong>resume</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>if True, it will resume the sampling from the last batch.
default resume = False.</p>
</dd>
<dt><strong>json_file</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the parameters.
default json_file = ‘./lensed_params_detectable.json’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>param_final</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lensed GW source parameters, lens galaxy parameters and image paramters.
param_final.keys() = [‘zl’, ‘zs’, ‘sigma’, ‘q’, ‘e1’, ‘e2’, ‘gamma1’, ‘gamma2’,
‘Dl’, ‘Ds’, ‘Dls’, ‘theta_E’, ‘gamma’, ‘mass_1’, ‘mass_2’, ‘mass_1_source’, ‘mass_2_source’,
‘luminosity_distance’, ‘iota’, ‘psi’, ‘phase’, ‘geocent_time’, ‘ra’, ‘dec’, ‘n_images’,
‘x0_image_positions’, ‘x1_image_positions’, ‘magnifications’, ‘time_delays’, ‘image_type’,
‘weights’, ‘opt_snr_net’, ‘L1’, ‘H1’, ‘V1’]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.relative_mu_dt_lensed">
<span class="sig-name descname"><span class="pre">relative_mu_dt_lensed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lensed_param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[8.0,</span> <span class="pre">8.0]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.relative_mu_dt_lensed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.relative_mu_dt_lensed" title="Link to this definition"></a></dt>
<dd><p>Function to classify the lensed images wrt to the morse phase difference.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lensed_param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lensed GW source parameters, lens galaxy parameters and image paramters.
lensed_param.keys() = [‘zl’, ‘zs’, ‘sigma’, ‘q’, ‘e1’, ‘e2’, ‘gamma1’, ‘gamma2’, ‘Dl’,
‘Ds’, ‘Dls’, ‘theta_E’, ‘gamma’, ‘mass_1’, ‘mass_2’, ‘mass_1_source’, ‘mass_2_source’,
‘luminosity_distance’, ‘iota’, ‘psi’, ‘phase’, ‘geocent_time’, ‘ra’, ‘dec’, ‘n_images’,
‘x0_image_positions’, ‘x1_image_positions’, ‘magnifications’, ‘time_delays’, ‘traces’,
‘determinants’, ‘image_type’, ‘weights’, ‘opt_snr_net’, ‘L1’, ‘H1’, ‘V1’]</p>
</dd>
<dt><strong>snr_threshold</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>threshold for detection signal to noise ratio.
e.g. snr_threshold = [8.,8.] or [8.,6.] for subthreshold</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mu_rel0</strong><span class="classifier"><cite>float.array</cite></span></dt><dd><p>relative magnification for 0 degree phase difference.</p>
</dd>
<dt><strong>dt_rel0</strong><span class="classifier"><cite>float.array</cite></span></dt><dd><p>relative time delay for 0 degree phase difference.</p>
</dd>
<dt><strong>mu_rel90</strong><span class="classifier"><cite>float.array</cite></span></dt><dd><p>relative magnification for 90 degree phase difference.</p>
</dd>
<dt><strong>dt_rel90</strong><span class="classifier"><cite>float.array</cite></span></dt><dd><p>relative time delay for 90 degree phase difference.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.mu_vs_dt_plot">
<span class="sig-name descname"><span class="pre">mu_vs_dt_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'blue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linestyles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'upper'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.01,</span> <span class="pre">500.0,</span> <span class="pre">0.01,</span> <span class="pre">100.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contour_levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.1,</span> <span class="pre">0.4,</span> <span class="pre">0.68,</span> <span class="pre">0.95]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.mu_vs_dt_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.mu_vs_dt_plot" title="Link to this definition"></a></dt>
<dd><p>Function to generate 2D KDE and plot the relative magnification vs time delay difference for lensed samples.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>x_array</strong><span class="classifier"><cite>float.array</cite></span></dt><dd><p>x array.</p>
</dd>
<dt><strong>y_array</strong><span class="classifier"><cite>float.array</cite></span></dt><dd><p>y array.</p>
</dd>
<dt><strong>xlabel</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>x label.</p>
</dd>
<dt><strong>ylabel</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>y label.</p>
</dd>
<dt><strong>title</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>title.</p>
</dd>
<dt><strong>savefig</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>if True, it will save the figure.
default savefig = False.</p>
</dd>
<dt><strong>ax</strong><span class="classifier"><cite>matplotlib.axes</cite></span></dt><dd><p>matplotlib axes.
default ax = None.</p>
</dd>
<dt><strong>colors</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>color of the plot.
default colors = ‘blue’.</p>
</dd>
<dt><strong>linestyles</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>linestyle of the plot.
default linestyles = ‘-‘.</p>
</dd>
<dt><strong>origin</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>origin of the plot.
default origin = ‘upper’.</p>
</dd>
<dt><strong>alpha</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>alpha of the plot.
default alpha = 0.6.</p>
</dd>
<dt><strong>extent</strong><span class="classifier"><cite>list</cite></span></dt><dd><p>extent of the plot.
default extent = [1e-2,5e2,1e-2,1e2].</p>
</dd>
<dt><strong>contour_levels</strong><span class="classifier"><cite>list</cite></span></dt><dd><p>contour levels of the plot.
default contour_levels = [0.10,0.40,0.68,0.95] which corresponds to 1,2,3,4 sigma.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>None</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.selecting_n_unlensed_detectable_events">
<span class="sig-name descname"><span class="pre">selecting_n_unlensed_detectable_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'./gw_params_detectable.json'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.selecting_n_unlensed_detectable_events"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.selecting_n_unlensed_detectable_events" title="Link to this definition"></a></dt>
<dd><p>Function to select n unlensed detectable events.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nsamples</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of samples to be selected.
default size = 100.</p>
</dd>
<dt><strong>snr_threshold</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>threshold for detection signal to noise ratio.
e.g. snr_threshold = 8.</p>
</dd>
<dt><strong>resume</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>if True, it will resume the sampling from the last batch.
default resume = False.</p>
</dd>
<dt><strong>json_file</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>json file name for storing the parameters.
default json_file = ‘./gw_params_detectable.json’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>param_final</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of unlensed GW source parameters.
param_final.keys() = [‘m1’, ‘m2’, ‘z’, ‘snr’, ‘theta_jn’, ‘ra’, ‘dec’, ‘psi’, ‘phase’, ‘geocent_time’]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LeR.relative_mu_dt_unlensed">
<span class="sig-name descname"><span class="pre">relative_mu_dt_unlensed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/ler.html#LeR.relative_mu_dt_unlensed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LeR.relative_mu_dt_unlensed" title="Link to this definition"></a></dt>
<dd><p>Function to generate relative magnification vs time delay difference for unlensed samples.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of unlensed GW source parameters.
unlensed_param.keys() = [‘m1’, ‘m2’, ‘z’, ‘snr’, ‘theta_jn’, ‘ra’, ‘dec’, ‘psi’, ‘phase’, ‘geocent_time’]</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>dmu</strong><span class="classifier"><cite>float.array</cite></span></dt><dd><p>relative magnification.</p>
</dd>
<dt><strong>dt</strong><span class="classifier"><cite>float.array</cite></span></dt><dd><p>relative time delay.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.</span></span><span class="sig-name descname"><span class="pre">LensGalaxyPopulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">CompactBinaryPopulation_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation" title="Link to this definition"></a></dt>
<dd><p>Class to sample lens galaxy parameters</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>CompactBinaryPopulation_</strong><span class="classifier">CompactBinaryPopulation class</span></dt><dd><p>This is an already initialized class that contains a function (CompactBinaryPopulation.sample_gw_parameters) that actually samples the source parameters.</p>
<p><a class="reference internal" href="source_population/index.html#ler.source_population.CompactBinaryPopulation" title="ler.source_population.CompactBinaryPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code></a></p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.lens_galaxy_population</span> <span class="kn">import</span> <span class="n">LensGalaxyPopulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_pop</span> <span class="o">=</span> <span class="n">LensGalaxyPopulation</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># list all the methods of the class</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">([</span><span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">lens_pop</span><span class="p">)</span> <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">])</span>
<span class="go">[&#39;Dc_to_z&#39;, &#39;angular_diameter_distance&#39;, &#39;angular_diameter_distance_z1z2&#39;, &#39;cbc_pop&#39;, &#39;compute_einstein_radii&#39;, &#39;create_lookup_table&#39;, &#39;differential_comoving_volume&#39;, &#39;get_image_properties&#39;, &#39;get_lensed_snrs&#39;, &#39;lens_redshift_sampler_helper_function&#39;, &#39;m_max&#39;, &#39;m_min&#39;, &#39;normalization_pdf_z&#39;, &#39;rejection_sample_lensing_probability&#39;, &#39;sample_axis_ratio_angle_phi&#39;, &#39;sample_galaxy_shear&#39;, &#39;sample_gamma&#39;, &#39;sample_lens_parameters&#39;, &#39;sample_lens_parameters_routine&#39;, &#39;sample_lens_redshifts&#39;, &#39;sample_strongly_lensed_source_parameters&#39;, &#39;sample_velocity_dispersion_axis_ratio&#39;, &#39;strong_lensing_optical_depth&#39;, &#39;z_max&#39;, &#39;z_min&#39;, &#39;z_to_Dc&#39;, &#39;z_to_luminosity_distance&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># sample lens parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_parameters</span> <span class="o">=</span> <span class="n">lens_pop</span><span class="o">.</span><span class="n">sample_lens_parameters</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">dict_keys([&#39;zl&#39;, &#39;zs&#39;, &#39;sigma&#39;, &#39;q&#39;, &#39;e1&#39;, &#39;e2&#39;, &#39;gamma1&#39;, &#39;gamma2&#39;, &#39;Dl&#39;, &#39;Ds&#39;, &#39;Dls&#39;, &#39;theta_E&#39;, &#39;gamma&#39;, &#39;mass_1&#39;, &#39;mass_2&#39;, &#39;mass_1_source&#39;, &#39;mass_2_source&#39;, &#39;luminosity_distance&#39;, &#39;iota&#39;, &#39;psi&#39;, &#39;phase&#39;, &#39;geocent_time&#39;, &#39;ra&#39;, &#39;dec&#39;, &#39;a_1&#39;, &#39;a2&#39;, &#39;tilt1&#39;, &#39;tilt2&#39;, &#39;phi12&#39;, &#39;phi_jl&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># get image properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_parameters</span> <span class="o">=</span> <span class="n">lens_pop</span><span class="o">.</span><span class="n">get_image_properties</span><span class="p">(</span><span class="n">lens_parameters</span><span class="p">,</span> <span class="n">n_min_images</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">n_max_images</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">lensModelList</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;EPL_NUMBA&#39;</span><span class="p">,</span> <span class="s1">&#39;SHEAR&#39;</span><span class="p">],</span> <span class="n">npool</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">solving lens equations...</span>
<span class="go">100%|█████████████████████████████████████████████████████████| 1000/1000 [00:00&lt;00:00, 1258.38it/s]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">dict_keys([&#39;zl&#39;, &#39;zs&#39;, &#39;sigma&#39;, &#39;q&#39;, &#39;e1&#39;, &#39;e2&#39;, &#39;gamma1&#39;, &#39;gamma2&#39;, &#39;Dl&#39;, &#39;Ds&#39;, &#39;Dls&#39;, &#39;theta_E&#39;, &#39;gamma&#39;, &#39;mass_1&#39;, &#39;mass_2&#39;, &#39;mass_1_source&#39;, &#39;mass_2_source&#39;, &#39;luminosity_distance&#39;, &#39;iota&#39;, &#39;psi&#39;, &#39;phase&#39;, &#39;geocent_time&#39;, &#39;ra&#39;, &#39;dec&#39;, &#39;a_1&#39;, &#39;a2&#39;, &#39;tilt1&#39;, &#39;tilt2&#39;, &#39;phi12&#39;, &#39;phi_jl&#39;, &#39;n_images&#39;, &#39;x0_image_positions&#39;, &#39;x1_image_positions&#39;, &#39;magnifications&#39;, &#39;time_delays&#39;, &#39;image_type&#39;, &#39;weights&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># get lensed SNRs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">gwsnr</span> <span class="kn">import</span> <span class="n">GWSNR</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">snr</span> <span class="o">=</span> <span class="n">GWSNR</span><span class="p">()</span>
<span class="go">Given: IMR waveform</span>
<span class="go">psds not given. Choosing bilby&#39;s default psds</span>
<span class="go">given psds:  {&#39;L1&#39;: &#39;aLIGO_O4_high_asd.txt&#39;, &#39;H1&#39;: &#39;aLIGO_O4_high_asd.txt&#39;, &#39;V1&#39;: &#39;AdV_asd.txt&#39;}</span>
<span class="go">Interpolator will be generated for L1 detector at ./interpolator_pickle/L1/halfSNR_dict_0.pickle</span>
<span class="go">Interpolator will be generated for H1 detector at ./interpolator_pickle/H1/halfSNR_dict_0.pickle</span>
<span class="go">Interpolator will be generated for V1 detector at ./interpolator_pickle/V1/halfSNR_dict_0.pickle</span>
<span class="go">Generating interpolator for [&#39;L1&#39;, &#39;H1&#39;, &#39;V1&#39;] detectors</span>
<span class="go">interpolation for each mass_ratios: 100%|███████████████████████████| 50/50 [00:23&lt;00:00,  2.10it/s]</span>
<span class="go">interpolator generated</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_snrs</span> <span class="o">=</span> <span class="n">lens_pop</span><span class="o">.</span><span class="n">get_lensed_snrs</span><span class="p">(</span><span class="n">snr</span><span class="p">,</span> <span class="n">lens_parameters</span><span class="p">,</span> <span class="n">n_max_images</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_snrs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">dict_keys([&#39;opt_snr_net&#39;, &#39;L1&#39;, &#39;H1&#39;, &#39;V1&#39;])</span>
</pre></div>
</div>
<section id="id2">
<h4>Instance Attributes<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<p>LensGalaxyPopulation class has the following instance attributes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Atrributes</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.cbc_pop" title="ler.LensGalaxyPopulation.cbc_pop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cbc_pop</span></code></a></p></td>
<td><p>CompactBinaryPopulation class</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.z_min" title="ler.LensGalaxyPopulation.z_min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_min</span></code></a></p></td>
<td><p>float</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.z_max" title="ler.LensGalaxyPopulation.z_max"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_max</span></code></a></p></td>
<td><p>float</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.m_min" title="ler.LensGalaxyPopulation.m_min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">m_min</span></code></a></p></td>
<td><p>float</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.m_max" title="ler.LensGalaxyPopulation.m_max"><code class="xref py py-attr docutils literal notranslate"><span class="pre">m_max</span></code></a></p></td>
<td><p>float</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.normalization_pdf_z" title="ler.LensGalaxyPopulation.normalization_pdf_z"><code class="xref py py-attr docutils literal notranslate"><span class="pre">normalization_pdf_z</span></code></a></p></td>
<td><p>float</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id3">
<h4>Instance Methods<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<p>LensGalaxyPopulation class has the following instance methods:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Methods</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.create_lookup_table" title="ler.LensGalaxyPopulation.create_lookup_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_lookup_table()</span></code></a></p></td>
<td><p>Function to create a lookup
table for the differential
comoving volume and luminosity
distance wrt redshift</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.sample_lens_parameters" title="ler.LensGalaxyPopulation.sample_lens_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_lens_parameters()</span></code></a></p></td>
<td><p>Function to sample lens galaxy
parameters</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#ler.LensGalaxyPopulation.sample_lens_parameters_routine" title="ler.LensGalaxyPopulation.sample_lens_parameters_routine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_lens_parameters_routine()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Function to sample lens galaxy
parameters</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#ler.LensGalaxyPopulation.sample_strongly_lensed_source_parameters" title="ler.LensGalaxyPopulation.sample_strongly_lensed_source_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_strongly_lensed_source_parameters()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Function to sample source
parameters conditioned on the
source being strongly lensed</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.sample_lens_redshifts" title="ler.LensGalaxyPopulation.sample_lens_redshifts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_lens_redshifts()</span></code></a></p></td>
<td><p>Function to sample lens redshifts</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><a class="reference internal" href="#ler.LensGalaxyPopulation.sample_velocity_dispersion_axis_ratio" title="ler.LensGalaxyPopulation.sample_velocity_dispersion_axis_ratio"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_velocity_dispersion_axis_ratio()</span></code></a></p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Function to sample velocity
dispersion and axis ratio of the
lens galaxy</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.compute_einstein_radii" title="ler.LensGalaxyPopulation.compute_einstein_radii"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_einstein_radii()</span></code></a></p></td>
<td><p>Function to compute the Einstein
radii of the lens galaxies</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.sample_axis_ratio_angle_phi" title="ler.LensGalaxyPopulation.sample_axis_ratio_angle_phi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_axis_ratio_angle_phi()</span></code></a></p></td>
<td><p>Function to sample the axis
rotation angle of the elliptical
lens galaxy</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.sample_galaxy_shear" title="ler.LensGalaxyPopulation.sample_galaxy_shear"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_galaxy_shear()</span></code></a></p></td>
<td><p>Function to sample the lens
galaxy shear</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.sample_gamma" title="ler.LensGalaxyPopulation.sample_gamma"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_gamma()</span></code></a></p></td>
<td><p>Function to sample the lens
galaxy spectral index of the
density profile</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><a class="reference internal" href="#ler.LensGalaxyPopulation.rejection_sample_lensing_probability" title="ler.LensGalaxyPopulation.rejection_sample_lensing_probability"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rejection_sample_lensing_probability()</span></code></a></p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Function to conduct rejection
sampling wrt einstein radius</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">strong_lensing_optical_depth()</span></code></p></td>
<td><p>Function to compute the strong
lensing optical depth</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.get_image_properties" title="ler.LensGalaxyPopulation.get_image_properties"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_image_properties()</span></code></a></p></td>
<td><p>Function to get the image
properties e.g. image positions,
magnifications, time delays, etc.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.LensGalaxyPopulation.get_lensed_snrs" title="ler.LensGalaxyPopulation.get_lensed_snrs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_lensed_snrs()</span></code></a></p></td>
<td><p>Function to get the lensed SNRs</p></td>
</tr>
</tbody>
</table>
<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.cbc_pop">
<span class="sig-name descname"><span class="pre">cbc_pop</span></span><a class="headerlink" href="#ler.LensGalaxyPopulation.cbc_pop" title="Link to this definition"></a></dt>
<dd><p><a class="reference internal" href="#ler.CompactBinaryPopulation" title="ler.CompactBinaryPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code></a> class</p>
<p>This is an already initialized class that contains a function (CompactBinaryPopulation.sample_gw_parameters) that actually samples the source parameters.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.z_min">
<span class="sig-name descname"><span class="pre">z_min</span></span><a class="headerlink" href="#ler.LensGalaxyPopulation.z_min" title="Link to this definition"></a></dt>
<dd><p><cite>float</cite></p>
<p>minimum redshift</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.z_max">
<span class="sig-name descname"><span class="pre">z_max</span></span><a class="headerlink" href="#ler.LensGalaxyPopulation.z_max" title="Link to this definition"></a></dt>
<dd><p><cite>float</cite></p>
<p>maximum redshift</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.m_min">
<span class="sig-name descname"><span class="pre">m_min</span></span><a class="headerlink" href="#ler.LensGalaxyPopulation.m_min" title="Link to this definition"></a></dt>
<dd><p><cite>float</cite></p>
<p>minimum mass in detector frame</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.m_max">
<span class="sig-name descname"><span class="pre">m_max</span></span><a class="headerlink" href="#ler.LensGalaxyPopulation.m_max" title="Link to this definition"></a></dt>
<dd><p><cite>float</cite></p>
<p>maximum mass in detector frame</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.normalization_pdf_z">
<span class="sig-name descname"><span class="pre">normalization_pdf_z</span></span><a class="headerlink" href="#ler.LensGalaxyPopulation.normalization_pdf_z" title="Link to this definition"></a></dt>
<dd><p><cite>float</cite></p>
<p>normalization constant of the pdf p(z)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.create_lookup_table">
<span class="sig-name descname"><span class="pre">create_lookup_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.create_lookup_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.create_lookup_table" title="Link to this definition"></a></dt>
<dd><p>Functions to create lookup tables
1. Redshift to co-moving distance.
2. Co-moving distance to redshift.
3. Redshift to luminosity distance
4. Redshift to angular diameter distance.
5. Lens redshift sampler helper function.
6. Redshift to differential comoving volume.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_min</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>minimum redshift</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>maximum redshift</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.sample_lens_parameters">
<span class="sig-name descname"><span class="pre">sample_lens_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_parameters_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.sample_lens_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.sample_lens_parameters" title="Link to this definition"></a></dt>
<dd><p>Function to sample galaxy lens parameters</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of lens parameters to sample</p>
</dd>
<dt><strong>lens_parameters_input</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lens parameters to sample</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lens parameters and source parameters (lens conditions applied)
e.g. dictionary keys:</p>
<p>lensing related=&gt;[‘zl’:redshift of lens, ‘zs’: redshift of source, ‘sigma’:velocity dispersion, ‘q’:axis ratios, ‘e1’:ellipticity, ‘e2’:ellipticity, ‘gamma1’:external-shear, ‘gamma2’:external-shear, ‘Dl’:angular diameter distance of lens, ‘Ds’:angular diameter distance of source, ‘Dls’:angular diameter distance between lens and source, ‘theta_E’: einstein radius in radian, ‘gamma’:spectral index of mass density distribution]</p>
<p>source related=&gt;[‘mass_1’: mass in detector frame (mass1&gt;mass2), ‘mass_2’: mass in detector frame, ‘mass_1_source’:mass in source frame, ‘mass_2_source’:mass source frame, ‘luminosity_distance’: luminosity distance, ‘iota’: inclination angle, ‘psi’: polarization angle, ‘phase’: coalesence phase, ‘geocent_time’: coalensence GPS time at geocenter, ‘ra’: right ascension, ‘dec’: declination, ‘a_1’: spin magnitude of the more massive black hole, ‘a2’: spin magnitude of the less massive black hole, ‘tilt_1’: tilt angle of the more massive black hole, ‘tilt_2’: tilt angle of the less massive black hole, ‘phi_12’: azimuthal angle between the two spins, ‘phi_jl’: azimuthal angle between the total angular momentum and the orbital angular momentum]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.sample_lens_parameters_routine">
<span class="sig-name descname"><span class="pre">sample_lens_parameters_routine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lens_parameters_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.sample_lens_parameters_routine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.sample_lens_parameters_routine" title="Link to this definition"></a></dt>
<dd><p>Function to sample galaxy lens parameters</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of lens parameters to sample</p>
</dd>
<dt><strong>lens_parameters_input</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lens parameters to sample</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lens parameters and source parameters (lens conditions applied)
e.g. dictionary keys:</p>
<p>lensing related=&gt;[‘zl’:redshift of lens, ‘zs’: redshift of source, ‘sigma’:velocity dispersion, ‘q’:axis ratios, ‘e1’:ellipticity, ‘e2’:ellipticity, ‘gamma1’:external-shear, ‘gamma2’:external-shear, ‘Dl’:angular diameter distance of lens, ‘Ds’:angular diameter distance of source, ‘Dls’:angular diameter distance between lens and source, ‘theta_E’: einstein radius in radian, ‘gamma’:spectral index of mass density distribution]</p>
<p>source related=&gt;[‘mass_1’: mass in detector frame (mass1&gt;mass2), ‘mass_2’: mass in detector frame, ‘mass_1_source’:mass in source frame, ‘mass_2_source’:mass source frame, ‘luminosity_distance’: luminosity distance, ‘iota’: inclination angle, ‘psi’: polarization angle, ‘phase’: coalesence phase, ‘geocent_time’: coalensence GPS time at geocenter, ‘ra’: right ascension, ‘dec’: declination, ‘a_1’: spin magnitude of the more massive black hole, ‘a2’: spin magnitude of the less massive black hole, ‘tilt_1’: tilt angle of the more massive black hole, ‘tilt_2’: tilt angle of the less massive black hole, ‘phi_12’: azimuthal angle between the two spins, ‘phi_jl’: azimuthal angle between the total angular momentum and the orbital angular momentum]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.sample_strongly_lensed_source_parameters">
<span class="sig-name descname"><span class="pre">sample_strongly_lensed_source_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.sample_strongly_lensed_source_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.sample_strongly_lensed_source_parameters" title="Link to this definition"></a></dt>
<dd><p>Function to sample source redshifts and other parameters, conditioned on the source being strongly lensed.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of lens parameters to sample</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>gw_param_strongly_lensed</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of source parameters. <cite>zs</cite> is sampled considering the merger rate density at source frame, comoving volume and strong lensing optical depth.</p>
<p>e.g. gw_param_strongly_lensed.keys() = [‘mass_1’, ‘mass_2’, ‘mass_1_source’, ‘mass_2_source’, ‘zs’, ‘luminosity_distance’, ‘iota’, ‘psi’, ‘phase’, ‘geocent_time’, ‘ra’, ‘dec’, ‘a_1’, ‘a2’, ‘tilt1’, ‘tilt2’, ‘phi12’, ‘phi_jl’]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.sample_lens_redshifts">
<span class="sig-name descname"><span class="pre">sample_lens_redshifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.sample_lens_redshifts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.sample_lens_redshifts" title="Link to this definition"></a></dt>
<dd><p>Function to sample lens redshifts, conditioned on the lens being strongly lensed
Input parameters:</p>
<blockquote>
<div><p>zs : source redshifts</p>
</div></blockquote>
<dl class="simple">
<dt>Output parameters:</dt><dd><p>zl : lens redshifts</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.sample_velocity_dispersion_axis_ratio">
<span class="sig-name descname"><span class="pre">sample_velocity_dispersion_axis_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.sample_velocity_dispersion_axis_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.sample_velocity_dispersion_axis_ratio" title="Link to this definition"></a></dt>
<dd><p>Function to sample velocity dispersion and axis ratio of the lens galaxy</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>source redshifts</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>sigma</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>velocity dispersion of the lens galaxy</p>
</dd>
<dt><strong>q</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>axis ratio of the lens galaxy</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.compute_einstein_radii">
<span class="sig-name descname"><span class="pre">compute_einstein_radii</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.compute_einstein_radii"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.compute_einstein_radii" title="Link to this definition"></a></dt>
<dd><p>Function to compute the Einstein radii of the lens galaxies</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>sigma</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>velocity dispersion of the lens galaxy</p>
</dd>
<dt><strong>zl</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>lens redshifts</p>
</dd>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>source redshifts</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>theta_E</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Einstein radii of the lens galaxies in radian</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.sample_axis_ratio_angle_phi">
<span class="sig-name descname"><span class="pre">sample_axis_ratio_angle_phi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.sample_axis_ratio_angle_phi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.sample_axis_ratio_angle_phi" title="Link to this definition"></a></dt>
<dd><p>Function to sample the axis rotation angle of the elliptical lens galaxy</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of lens parameters to sample</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>phi</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>axis rotation angle of the elliptical lens galaxy</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.sample_galaxy_shear">
<span class="sig-name descname"><span class="pre">sample_galaxy_shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.sample_galaxy_shear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.sample_galaxy_shear" title="Link to this definition"></a></dt>
<dd><p>Function to sample the lens galaxy shear</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of lens parameters to sample</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>gamma_1</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>shear component in the x-direction</p>
</dd>
<dt><strong>gamma_2</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>shear component in the y-direction</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.sample_gamma">
<span class="sig-name descname"><span class="pre">sample_gamma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.sample_gamma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.sample_gamma" title="Link to this definition"></a></dt>
<dd><p>Function to sample the lens galaxy spectral index of the density profile</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of lens parameters to sample</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>gamma</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>spectral index of the density profile</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.rejection_sample_lensing_probability">
<span class="sig-name descname"><span class="pre">rejection_sample_lensing_probability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theta_E</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.rejection_sample_lensing_probability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.rejection_sample_lensing_probability" title="Link to this definition"></a></dt>
<dd><p>Function to conduct rejection sampling wrt einstein radius</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>theta_E</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Einstein radii of the lens galaxies</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>idx</strong><span class="classifier"><cite>bool</cite></span></dt><dd><p>boolean array of size len(theta_E) indicating whether the sample is accepted or not</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.strong_lensing_optical_depth_SIE">
<span class="sig-name descname"><span class="pre">strong_lensing_optical_depth_SIE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.strong_lensing_optical_depth_SIE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.strong_lensing_optical_depth_SIE" title="Link to this definition"></a></dt>
<dd><p>Function to compute the strong lensing optical depth SIE</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>source redshifts</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>tau</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>strong lensing optical depth</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.strong_lensing_optical_depth_SIS">
<span class="sig-name descname"><span class="pre">strong_lensing_optical_depth_SIS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.strong_lensing_optical_depth_SIS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.strong_lensing_optical_depth_SIS" title="Link to this definition"></a></dt>
<dd><p>Function to compute the strong lensing optical depth (SIS)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>source redshifts</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>tau</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>strong lensing optical depth</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.get_image_properties">
<span class="sig-name descname"><span class="pre">get_image_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lens_parameters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_min_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">int(2)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_max_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">int(4)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lensModelList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['EPL_NUMBA',</span> <span class="pre">'SHEAR']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.get_image_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.get_image_properties" title="Link to this definition"></a></dt>
<dd><p>Function to get the image properties e.g. image positions, magnifications, time delays, etc.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lens parameters
e.g. lens_parameters.keys() = [‘zs’, ‘zl’, ‘gamma1’, ‘gamma2’, ‘e1’, ‘e2’, ‘gamma’, ‘theta_E’]</p>
</dd>
<dt><strong>n_min_images</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>minimum number of images to consider
default: 2</p>
</dd>
<dt><strong>n_max_images</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>maximum number of images to consider
default: 4</p>
</dd>
<dt><strong>lensModelList</strong><span class="classifier"><cite>list</cite></span></dt><dd><p>list of lens models
default: [‘EPL_NUMBA’, ‘SHEAR’]</p>
</dd>
<dt><strong>npool</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of processes to use
default: 4</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary of lens parameters and image properties
e.g. lens_parameters contains the following keys:</p>
<p>lens related=&gt;[‘zs’: source redshift, ‘zl’: lens redshift, ‘gamma1’: shear component in the x-direction, ‘gamma2’: shear component in the y-direction, ‘e1’: ellipticity component in the x-direction, ‘e2’: ellipticity component in the y-direction, ‘gamma’: spectral index of the mass density distribution, ‘theta_E’: einstein radius in radian]</p>
<p>source related=&gt;[‘mass_1’: mass in detector frame (mass1&gt;mass2), ‘mass_2’: mass in detector frame, ‘mass_1_source’:mass in source frame, ‘mass_2_source’:mass source frame, ‘luminosity_distance’: luminosity distance, ‘iota’: inclination angle, ‘psi’: polarization angle, ‘phase’: coalesence phase, ‘geocent_time’: coalensence GPS time at geocenter, ‘ra’: right ascension, ‘dec’: declination, ‘a_1’: spin magnitude of the more massive black hole, ‘a2’: spin magnitude of the less massive black hole, ‘tilt_1’: tilt angle of the more massive black hole, ‘tilt_2’: tilt angle of the less massive black hole, ‘phi_12’: azimuthal angle between the two spins, ‘phi_jl’: azimuthal angle between the total angular momentum and the orbital angular momentum]</p>
<p>image related=&gt;[‘x_source’: source position in the x-direction, ‘y_source’: source position in the y-direction, ‘x0_image_position’: image position in the x-direction, ‘x1_image_position’: image position in the y-direction, ‘magnifications’: magnifications, ‘time_delays’: time delays, ‘n_images’: number of images formed, ‘determinant’: determinants, ‘trace’: traces, ‘iteration’: to keep track of the iteration number, ‘weights’: weights for the caustic considered]</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.LensGalaxyPopulation.get_lensed_snrs">
<span class="sig-name descname"><span class="pre">get_lensed_snrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snr_calculator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lensed_param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_max_images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/lens_galaxy_population.html#LensGalaxyPopulation.get_lensed_snrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.LensGalaxyPopulation.get_lensed_snrs" title="Link to this definition"></a></dt>
<dd><p>Function to calculate the signal to noise ratio for each image in each event.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>snr_calculator</strong><span class="classifier"><cite>class</cite></span></dt><dd><p>snr_calculator class
this is an already initialized class that contains a function (snr_calculator.snr) that actually calculates snr with the given gw_params.</p>
<p>Luminosity distance and time delay are modified to be effective luminosity distance and effective time delay, respectively, for each image using the magnifications and time delays.</p>
</dd>
<dt><strong>lensed_param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>dictionary containing the both already lensed source paramters and image parameters.
e.g. lensed_param.keys() = [‘mass_1’, ‘mass_2’, ‘zs’, ‘luminosity_distance’, ‘iota’, ‘psi’, ‘phi’, ‘ra’, ‘dec’, ‘geocent_time’, ‘phase’, ‘a_1’, ‘a2’, ‘tilt_1’, ‘tilt_2’, ‘phi_12’, ‘phi_jl’, ‘magnifications’, ‘time_delays’]</p>
</dd>
<dt><strong>n_max_images</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>maximum number of images to consider
default: 4</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>snrs</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>signal to noise ratio for each image in each event.
(dictionary containing ‘H1’, ‘L1’, …, and ‘opt_snr_net’, which is the network snr, for each image as an array with dimensions (number_of_lensed_events,n_max_images) )</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.</span></span><span class="sig-name descname"><span class="pre">SourceGalaxyPopulationModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'BBH'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merger_rate_density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'merger_rate_density_bbh_popI_II_oguri'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merger_rate_density_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#SourceGalaxyPopulationModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.SourceGalaxyPopulationModel" title="Link to this definition"></a></dt>
<dd><p>Class to generate a population of source galaxies.
This class is inherited by <code class="xref py py-class docutils literal notranslate"><span class="pre">CompactBinaryPopulation</span></code> class.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_min</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Minimum redshift of the source population
default: 0.</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Maximum redshift of the source population
default: 10.</p>
</dd>
<dt><strong>event_type</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>Type of event to generate
e.g. ‘BBH’, ‘BNS’, ‘BBH_popIII’, ‘BBH_primordial’, ‘NSBH’
default: ‘BBH’</p>
</dd>
<dt><strong>merger_rate_density</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>Type of merger rate density function to use
default: None/’merger_rate_density_popI_II_Oguri’
for others see instance method in <code class="xref py py-class docutils literal notranslate"><span class="pre">SourceGalaxyPopulationModel</span></code></p>
</dd>
<dt><strong>merger_rate_density_param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Dictionary of merger rate density function parameters
default: None</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">SourceGalaxyPopulationModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">SourceGalaxyPopulationModel</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;BBH&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zs</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">sample_source_redshifts</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zs</span>
<span class="go">array([0.0001, 0.0001, 0.0001, ..., 9.9999, 9.9999, 9.9999])</span>
</pre></div>
</div>
<section id="id4">
<h4>Instance Attributes<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<p>SourceGalaxyPopulationModel has the following instance attributes:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Atrributes</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.z_min" title="ler.SourceGalaxyPopulationModel.z_min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_min</span></code></a></p></td>
<td><p><cite>float</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.z_max" title="ler.SourceGalaxyPopulationModel.z_max"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_max</span></code></a></p></td>
<td><p><cite>float</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.event_type" title="ler.SourceGalaxyPopulationModel.event_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">event_type</span></code></a></p></td>
<td><p><cite>str</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.normalization_pdf_z" title="ler.SourceGalaxyPopulationModel.normalization_pdf_z"><code class="xref py py-attr docutils literal notranslate"><span class="pre">normalization_pdf_z</span></code></a></p></td>
<td><p><cite>float</cite></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.z_to_luminosity_distance" title="ler.SourceGalaxyPopulationModel.z_to_luminosity_distance"><code class="xref py py-attr docutils literal notranslate"><span class="pre">z_to_luminosity_distance</span></code></a></p></td>
<td><p><cite>scipy.interpolate.interpolate</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.differential_comoving_volume" title="ler.SourceGalaxyPopulationModel.differential_comoving_volume"><code class="xref py py-attr docutils literal notranslate"><span class="pre">differential_comoving_volume</span></code></a></p></td>
<td><p><cite>scipy.interpolate.interpolate</cite></p></td>
</tr>
</tbody>
</table>
</section>
<section id="id5">
<h4>Instance Methods<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<p>SourceGalaxyPopulationModel has the following instance methods:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Methods</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.create_lookup_table" title="ler.SourceGalaxyPopulationModel.create_lookup_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_lookup_table()</span></code></a></p></td>
<td><p>Function to create a lookup
table for the differential
comoving volume and luminosity
distance wrt redshift</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.sample_source_redshifts" title="ler.SourceGalaxyPopulationModel.sample_source_redshifts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_source_redshifts()</span></code></a></p></td>
<td><p>Function to sample source
redshifts from the source
galaxy population model</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_oguri" title="ler.SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_oguri"><code class="xref py py-meth docutils literal notranslate"><span class="pre">merger_rate_density_bbh_popI_II_oguri()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Function to compute the merger
rate density (PopI/PopII)
from Oguri et al. (2018)</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#ler.SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_madau_dickinson" title="ler.SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_madau_dickinson"><code class="xref py py-meth docutils literal notranslate"><span class="pre">merger_rate_density_bbh_popI_II_madau_dickinson()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Function to compute the
merger rate density (PopI/PopII)
from Madau &amp; Dickinson (2014)</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">merger_rate_density_bbh_popIII()</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Function to compute the merger
rate density (PopIII)</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">merger_rate_density_primordial()</span></code></p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Function to compute the merger
rate density (Primordial)</p></td>
</tr>
</tbody>
</table>
<dl class="py attribute">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.z_min">
<span class="sig-name descname"><span class="pre">z_min</span></span><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.z_min" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Minimum redshift of the source population</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.z_max">
<span class="sig-name descname"><span class="pre">z_max</span></span><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.z_max" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Maximum redshift of the source population</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.event_type">
<span class="sig-name descname"><span class="pre">event_type</span></span><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.event_type" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
<p>Type of event to generate.</p>
<p>e.g. ‘BBH’, ‘BNS’, ‘BBH_popIII’, ‘BBH_primordial’, ‘NSBH’</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.normalization_pdf_z">
<span class="sig-name descname"><span class="pre">normalization_pdf_z</span></span><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.normalization_pdf_z" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Normalization constant of the pdf p(z)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.z_to_luminosity_distance">
<span class="sig-name descname"><span class="pre">z_to_luminosity_distance</span></span><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.z_to_luminosity_distance" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">scipy.interpolate.interpolate</span></code></p>
<p>Function to convert redshift to luminosity distance</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.differential_comoving_volume">
<span class="sig-name descname"><span class="pre">differential_comoving_volume</span></span><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.differential_comoving_volume" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">scipy.interpolate.interpolate</span></code></p>
<p>Function to calculate the differential comoving volume</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.create_lookup_table">
<span class="sig-name descname"><span class="pre">create_lookup_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#SourceGalaxyPopulationModel.create_lookup_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.create_lookup_table" title="Link to this definition"></a></dt>
<dd><p>Function to create a lookup table for the differential comoving volume
and luminosity distance wrt redshift.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_min</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Minimum redshift of the source population</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Maximum redshift of the source population</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>z_to_luminosity_distance</strong><span class="classifier"><cite>scipy.interpolate.interpolate</cite></span></dt><dd><p>Function to convert redshift to luminosity distance</p>
</dd>
<dt><strong>differential_comoving_volume</strong><span class="classifier"><cite>scipy.interpolate.interpolate</cite></span></dt><dd><p>Function to calculate the differential comoving volume</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.sample_source_redshifts">
<span class="sig-name descname"><span class="pre">sample_source_redshifts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#SourceGalaxyPopulationModel.sample_source_redshifts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.sample_source_redshifts" title="Link to this definition"></a></dt>
<dd><p>Function to sample source redshifts (source frame) from the source galaxy population
model</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>Number of samples to draw
default: 1000</p>
</dd>
<dt><strong>z_min</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Minimum redshift of the source population
default: 0.</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Maximum redshift of the source population
default: 10.</p>
</dd>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Allows to pass in above parameters as dict.
e.g. param = dict(z_min=0.0, z_max=10.0)
default: None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of sampled redshifts</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">SourceGalaxyPopulationModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">SourceGalaxyPopulationModel</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;BBH&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zs</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">sample_source_redshifts</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zs</span>
<span class="go">array([0.0001, 0.0001, 0.0001, ..., 9.9999, 9.9999, 9.9999])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_oguri">
<span class="sig-name descname"><span class="pre">merger_rate_density_bbh_popI_II_oguri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">23.9</span> <span class="pre">*</span> <span class="pre">1e-09</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b3</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b4</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_oguri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_oguri" title="Link to this definition"></a></dt>
<dd><p>Function to compute the merger rate density (PopI/PopII). Reference: Oguri et al. (2018)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Source redshifts</p>
</dd>
<dt><strong>R0</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Normalization constant
default: 23.9*1e-9 Mpc^-3 yr^-1</p>
</dd>
<dt><strong>b2</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting paramters
default: 1.6</p>
</dd>
<dt><strong>b3</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting paramters
default: 2.0</p>
</dd>
<dt><strong>b4</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting paramters
default: 30</p>
</dd>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Allows to pass in above parameters as dict.
e.g. param = dict(R0=23.9*1e-9, b2=1.6, b3=2.0, b4=30)
default: None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>rate_density</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>merger rate density</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">SourceGalaxyPopulationModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">SourceGalaxyPopulationModel</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;BBH&quot;</span><span class="p">,</span> <span class="n">merger_rate_density</span><span class="o">=</span><span class="s2">&quot;merger_rate_density_popI_II_Oguri&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rate_density</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">merger_rate_density</span><span class="p">(</span><span class="n">zs</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rate_density</span>
<span class="go">2.7848018586883885e-08</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_madau_dickinson">
<span class="sig-name descname"><span class="pre">merger_rate_density_bbh_popI_II_madau_dickinson</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">af</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_madau_dickinson"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.merger_rate_density_bbh_popI_II_madau_dickinson" title="Link to this definition"></a></dt>
<dd><p>Function to compute the unormalized merger rate density (PopI/PopII) from Madau &amp; Dickinson (2014)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Source redshifts</p>
</dd>
<dt><strong>af</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting paramters
default: 2.7</p>
</dd>
<dt><strong>bf</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting paramters
default: 5.6</p>
</dd>
<dt><strong>cf</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting paramters
default: 1.9</p>
</dd>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Allows to pass in above parameters as dict.
e.g. param = dict(af=2.7, bf=5.6, cf=1.9)
default: None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>rate_density</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>merger rate density</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">SourceGalaxyPopulationModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">SourceGalaxyPopulationModel</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;BBH&quot;</span><span class="p">,</span> <span class="n">merger_rate_density</span><span class="o">=</span><span class="s2">&quot;merger_rate_density_bbh_popI_II_madau_dickinson&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rate_density</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">merger_rate_density</span><span class="p">(</span><span class="n">zs</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rate_density</span>
<span class="go">1.2355851838964846</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.merger_rate_density_popIII_ken">
<span class="sig-name descname"><span class="pre">merger_rate_density_popIII_ken</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aIII</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.66</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bIII</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zIII</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">11.6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#SourceGalaxyPopulationModel.merger_rate_density_popIII_ken"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.merger_rate_density_popIII_ken" title="Link to this definition"></a></dt>
<dd><p>Function to compute the unnormalized merger rate density (PopIII). Reference: Ken K. Y. Ng et al. (2022)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Source redshifts</p>
</dd>
<dt><strong>aIII</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting paramters
default: 0.66</p>
</dd>
<dt><strong>bIII</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting paramters
default: 0.3</p>
</dd>
<dt><strong>zIII</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting paramters
default: 11.6</p>
</dd>
<dt><strong>param</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Allows to pass in above parameters as dict.
e.g. param = dict(aIII=0.66, bIII=0.3, zIII=11.6)
default: None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>rate_density</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>merger rate density</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">SourceGalaxyPopulationModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">SourceGalaxyPopulationModel</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;BBH&quot;</span><span class="p">,</span> <span class="n">merger_rate_density</span><span class="o">=</span><span class="s2">&quot;merger_rate_density_popIII_Ken&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rate_density</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">merger_rate_density</span><span class="p">(</span><span class="n">zs</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rate_density</span>
<span class="go">0.00010000000000000002</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.SourceGalaxyPopulationModel.merger_rate_density_primordial_ken">
<span class="sig-name descname"><span class="pre">merger_rate_density_primordial_ken</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">13.786885302009708</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#SourceGalaxyPopulationModel.merger_rate_density_primordial_ken"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.SourceGalaxyPopulationModel.merger_rate_density_primordial_ken" title="Link to this definition"></a></dt>
<dd><p>Function to compute the merger rate density (Primordial). Reference: Ken K. Y. Ng et al. (2022)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>zs</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Source redshifts</p>
</dd>
<dt><strong>t0</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Present ge of the Universe in Gyr
default: 13.786885302009708</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>rate_density</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>merger rate density</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">SourceGalaxyPopulationModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">SourceGalaxyPopulationModel</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;primordial&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rate_density</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">merger_rate_density_primordial</span><span class="p">(</span><span class="n">zs</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rate_density</span>
<span class="go">0.00010000000000000002</span>
</pre></div>
</div>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ler.</span></span><span class="sig-name descname"><span class="pre">CompactBinaryPopulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'BBH'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_priors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_priors_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#ler.SourceGalaxyPopulationModel" title="ler.SourceGalaxyPopulationModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SourceGalaxyPopulationModel</span></code></a></p>
<p>Class to generate a population of compact binaries. Inherits from <code class="xref py py-class docutils literal notranslate"><span class="pre">SourceGalaxyPopulationModel</span></code> class.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>z_min</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Minimum redshift of the source population</p>
</dd>
<dt><strong>z_max</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Maximum redshift of the source population</p>
</dd>
<dt><strong>m_min</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Minimum mass of the BBHs</p>
</dd>
<dt><strong>m_max</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Maximum mass of the BBHs</p>
</dd>
<dt><strong>event_type</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>Type of event to generate.
e.g. ‘popI_II’, ‘BNS’, ‘popIII’, ‘primordial’, ‘popI_II_Madau_Dickinson’</p>
</dd>
<dt><strong>src_model_params</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Dictionary of model parameters.
e.g. for popI_II: {‘alpha’: 3.63, ‘beta’: 1.26, ‘delta_m’: 4.82, ‘mmin’: 4.59, ‘mmax’: 86.22, ‘lambda_peak’: 0.08, ‘mu_g’: 33.07, ‘sigma_g’: 5.69}</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">CompactBinaryPopulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">CompactBinaryPopulation</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m_min</span><span class="o">=</span><span class="mf">4.59</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">86.22</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;popI_II&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gw_parameters</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">sample_gw_parameters</span><span class="p">(</span><span class="n">nsamples</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gw_parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">dict_keys([&#39;mass_1&#39;, &#39;mass_2&#39;, &#39;mass_1_source&#39;, &#39;mass_2_source&#39;, &#39;zs&#39;, &#39;luminosity_distance&#39;, &#39;iota&#39;, &#39;psi&#39;, &#39;phase&#39;, &#39;geocent_time&#39;, &#39;ra&#39;, &#39;dec&#39;, &#39;a_1&#39;, &#39;a_2&#39;, &#39;tilt_1&#39;, &#39;tilt_2&#39;, &#39;phi_12&#39;, &#39;phi_jl&#39;])</span>
</pre></div>
</div>
<section id="id6">
<h4>Instance Attributes<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<p>CompactBinaryPopulation has the following instance attributes:</p>
</section>
<section id="id7">
<h4>Instance Methods<a class="headerlink" href="#id7" title="Link to this heading"></a></h4>
<p>CompactBinaryPopulation has the following instance methods:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Methods</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#ler.CompactBinaryPopulation.sample_gw_parameters" title="ler.CompactBinaryPopulation.sample_gw_parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sample_gw_parameters()</span></code></a></p></td>
<td><p>Function for sampling GW
parameters from the source
galaxy population model</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">binary_masses_popI_II()</span></code></p></td>
<td><p>Function to calculate source
mass1 and mass2 with
PowerLaw+PEAK model</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">binary_masses_popIII()</span></code></p></td>
<td><p>Function to calculate source
mass1 and mass2 with pop III
origin</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">binary_masses_primordial()</span></code></p></td>
<td><p>Function to calculate source
mass1 and mass2 for primordial
BBHs</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">binary_masses_BNS()</span></code></p></td>
<td><p>Function to calculate source
mass1 and mass2 of BNS</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ler.CompactBinaryPopulation.mass_ratio" title="ler.CompactBinaryPopulation.mass_ratio"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mass_ratio()</span></code></a></p></td>
<td><p>Function to calculate mass ratio</p></td>
</tr>
</tbody>
</table>
<dl class="py attribute">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.z_min">
<span class="sig-name descname"><span class="pre">z_min</span></span><a class="headerlink" href="#ler.CompactBinaryPopulation.z_min" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Minimum redshift of the source population</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.z_max">
<span class="sig-name descname"><span class="pre">z_max</span></span><a class="headerlink" href="#ler.CompactBinaryPopulation.z_max" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Maximum redshift of the source population</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.m_min">
<span class="sig-name descname"><span class="pre">m_min</span></span><a class="headerlink" href="#ler.CompactBinaryPopulation.m_min" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Minimum mass of the BBHs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.m_max">
<span class="sig-name descname"><span class="pre">m_max</span></span><a class="headerlink" href="#ler.CompactBinaryPopulation.m_max" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
<p>Maximum mass of the BBHs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.event_type">
<span class="sig-name descname"><span class="pre">event_type</span></span><a class="headerlink" href="#ler.CompactBinaryPopulation.event_type" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
<p>Type of event to generate.</p>
<p>e.g. ‘popI_II’, ‘BNS’, ‘popIII’, ‘primordial’, ‘popI_II_Madau_Dickinson’</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.event_priors_categorization">
<span class="sig-name descname"><span class="pre">event_priors_categorization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_priors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_prior_params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation.event_priors_categorization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation.event_priors_categorization" title="Link to this definition"></a></dt>
<dd><p>Function to sample BBH parameters from the source galaxy population
model</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>event_type</strong><span class="classifier"><cite>str</cite></span></dt><dd><p>Type of event to generate.
e.g. ‘BBH’, ‘BNS’, ‘BBH_popIII’, ‘BBH_primordial’, ‘NSBH’</p>
</dd>
<dt><strong>event_priors</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Dictionary of prior sampler functions for each parameter</p>
</dd>
<dt><strong>event_prior_params</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Dictionary of sampler parameters for each parameter</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>event_priors_</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Dictionary of prior sampler functions for each parameter</p>
</dd>
<dt><strong>event_prior_params_</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Dictionary of sampler parameters for each parameter</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.sample_gw_parameters">
<span class="sig-name descname"><span class="pre">sample_gw_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation.sample_gw_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation.sample_gw_parameters" title="Link to this definition"></a></dt>
<dd><p>Function to sample BBH parameters from the source galaxy population
model</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nsamples</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>Number of samples to draw</p>
</dd>
<dt><strong>kwargs</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Keyword arguments to pass in parameter values
e.g. zs = np.array([0.1,0.2,0.3])</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>gw_parameters</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Dictionary of sampled parameters
gw_parameters.keys() = [‘mass_1’, ‘mass_2’, ‘mass_1_source’, ‘mass_2_source’, ‘zs’, ‘luminosity_distance’, ‘iota’, ‘psi’, ‘phase’, ‘geocent_time’, ‘ra’, ‘dec’, ‘a_1’, ‘a_2’, ‘tilt_1’, ‘tilt_2’, ‘phi_12’, ‘phi_jl’]</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">CompactBinaryPopulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">CompactBinaryPopulation</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m_min</span><span class="o">=</span><span class="mf">4.59</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">86.22</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;popI_II&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gw_parameters</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">sample_gw_parameters</span><span class="p">(</span><span class="n">nsamples</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gw_parameters</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">dict_keys([&#39;mass_1&#39;, &#39;mass_2&#39;, &#39;mass_1_source&#39;, &#39;mass_2_source&#39;, &#39;zs&#39;, &#39;luminosity_distance&#39;, &#39;iota&#39;, &#39;psi&#39;, &#39;phase&#39;, &#39;geocent_time&#39;, &#39;ra&#39;, &#39;dec&#39;, &#39;a_1&#39;, &#39;a_2&#39;, &#39;tilt_1&#39;, &#39;tilt_2&#39;, &#39;phi_12&#39;, &#39;phi_jl&#39;])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.binary_masses_BBH_popI_II_powerlaw_gaussian">
<span class="sig-name descname"><span class="pre">binary_masses_BBH_popI_II_powerlaw_gaussian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mminbh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4.98</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mmaxbh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">112.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.78</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu_g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32.27</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.88</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_peak</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.03</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.81</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation.binary_masses_BBH_popI_II_powerlaw_gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation.binary_masses_BBH_popI_II_powerlaw_gaussian" title="Link to this definition"></a></dt>
<dd><p>Function to calculate source mass1 and mass2 with PowerLaw+PEAK model</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>Number of samples to draw</p>
</dd>
<dt><strong>src_model_params</strong><span class="classifier"><cite>dict</cite></span></dt><dd><p>Dictionary of model parameters
e.g. {‘alpha’: 3.63, ‘beta’: 1.26, ‘delta_m’: 4.82, ‘mmin’: 4.59, ‘mmax’: 86.22, ‘lambda_peak’: 0.08, ‘mu_g’: 33.07, ‘sigma_g’: 5.69}</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass1 in source frame</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass2 in source frame</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">CompactBinaryPopulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">CompactBinaryPopulation</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m_min</span><span class="o">=</span><span class="mf">4.59</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">86.22</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;popI_II&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">src_model_params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">3.63</span><span class="p">,</span> <span class="s1">&#39;beta&#39;</span><span class="p">:</span> <span class="mf">1.26</span><span class="p">,</span> <span class="s1">&#39;delta_m&#39;</span><span class="p">:</span> <span class="mf">4.82</span><span class="p">,</span> <span class="s1">&#39;mmin&#39;</span><span class="p">:</span> <span class="mf">4.59</span><span class="p">,</span> <span class="s1">&#39;mmax&#39;</span><span class="p">:</span> <span class="mf">86.22</span><span class="p">,</span> <span class="s1">&#39;lambda_peak&#39;</span><span class="p">:</span> <span class="mf">0.08</span><span class="p">,</span> <span class="s1">&#39;mu_g&#39;</span><span class="p">:</span> <span class="mf">33.07</span><span class="p">,</span> <span class="s1">&#39;sigma_g&#39;</span><span class="p">:</span> <span class="mf">5.69</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mass_1_source</span><span class="p">,</span> <span class="n">mass_2_source</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">binary_masses_popI_II</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">src_model_params</span><span class="o">=</span><span class="n">src_model_params</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.binary_masses_BBH_popIII_gwcosmo">
<span class="sig-name descname"><span class="pre">binary_masses_BBH_popIII_gwcosmo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Mc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation.binary_masses_BBH_popIII_gwcosmo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation.binary_masses_BBH_popIII_gwcosmo" title="Link to this definition"></a></dt>
<dd><p>Function to calculate source mass1 and mass2 with pop III origin</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>Number of samples to draw</p>
</dd>
<dt><strong>Mc, sigma, beta</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting parameters
default: Mc=30.0, sigma=0.3, beta=1.1</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass1 in source frame</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass2 in source frame</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">CompactBinaryPopulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">CompactBinaryPopulation</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m_min</span><span class="o">=</span><span class="mf">4.59</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">86.22</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;popIII&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mass_1_source</span><span class="p">,</span> <span class="n">mass_2_source</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">binary_masses_popIII</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.binary_masses_BBH_primordial_lognormal">
<span class="sig-name descname"><span class="pre">binary_masses_BBH_primordial_lognormal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Mc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation.binary_masses_BBH_primordial_lognormal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation.binary_masses_BBH_primordial_lognormal" title="Link to this definition"></a></dt>
<dd><p>Function to calculate source mass1 and mass2 for primordial BBHs</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>Number of samples to draw</p>
</dd>
<dt><strong>Mc, sigma, beta</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting parameters
default: Mc=30.0, sigma=0.3, beta=1.1</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass1 in source frame</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass2 in source frame</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">CompactBinaryPopulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">CompactBinaryPopulation</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m_min</span><span class="o">=</span><span class="mf">4.59</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">86.22</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;primordial&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mass_1_source</span><span class="p">,</span> <span class="n">mass_2_source</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">binary_masses_primordial</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.binary_masses_BNS_popI_II_gwcosmo">
<span class="sig-name descname"><span class="pre">binary_masses_BNS_popI_II_gwcosmo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mminns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mmaxns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation.binary_masses_BNS_popI_II_gwcosmo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation.binary_masses_BNS_popI_II_gwcosmo" title="Link to this definition"></a></dt>
<dd><p>Function to calculate source mass1 and mass2 of BNS (gwcosmo)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>Number of samples to draw</p>
</dd>
<dt><strong>mminns</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Minimum mass of the BNS
default: 1.0</p>
</dd>
<dt><strong>mmaxns</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Maximum mass of the BNS
default: 3.0</p>
</dd>
<dt><strong>alphans</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Power law index
default: 0.0</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass1 in source frame</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass2 in source frame</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.binary_masses_BNS_popI_II_Alsing">
<span class="sig-name descname"><span class="pre">binary_masses_BNS_popI_II_Alsing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">dict(w=0.643,</span> <span class="pre">muL=1.352,</span> <span class="pre">sigmaL=0.08,</span> <span class="pre">muR=1.88,</span> <span class="pre">sigmaR=0.3,</span> <span class="pre">mmin=1.0,</span> <span class="pre">mmax=2.3)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation.binary_masses_BNS_popI_II_Alsing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation.binary_masses_BNS_popI_II_Alsing" title="Link to this definition"></a></dt>
<dd><p>Function to calculate source mass1 and mass2 of BNS (Alsing)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>Number of samples to draw</p>
</dd>
<dt><strong>w, muL, sigmaL, muR, sigmaR</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Fitting parameters
default: w=0.643, muL=1.352, sigmaL=0.08, muR=1.88, sigmaR=0.3</p>
</dd>
<dt><strong>mmin</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Minimum mass of the BNS
default: 1.0</p>
</dd>
<dt><strong>mmax</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Maximum mass of the BNS
default: 3.0</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>mass_1_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass1 in source frame</p>
</dd>
<dt><strong>mass_2_source</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass2 in source frame</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.mass_ratio">
<span class="sig-name descname"><span class="pre">mass_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation.mass_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation.mass_ratio" title="Link to this definition"></a></dt>
<dd><p>Function to calculate mass ratio with power law distribution</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>Number of samples</p>
</dd>
<dt><strong>beta</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>Power law index</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>q</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of mass ratio</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">CompactBinaryPopulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">CompactBinaryPopulation</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m_min</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;BNS&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">mass_ratio</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">beta</span><span class="o">=</span><span class="mf">1.1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ler.CompactBinaryPopulation.binary_spin_BBH">
<span class="sig-name descname"><span class="pre">binary_spin_BBH</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/source_population.html#CompactBinaryPopulation.binary_spin_BBH"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.CompactBinaryPopulation.binary_spin_BBH" title="Link to this definition"></a></dt>
<dd><p>Function to calculate spin parameters with PowerLaw+PEAK model</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>size</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>Number of samples to draw</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>a_1</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of spin1</p>
</dd>
<dt><strong>a_2</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of spin2</p>
</dd>
<dt><strong>tilt_1</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of tilt1</p>
</dd>
<dt><strong>tilt_2</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of tilt2</p>
</dd>
<dt><strong>phi_12</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of phi12</p>
</dd>
<dt><strong>phi_jl</strong><span class="classifier"><cite>array</cite></span></dt><dd><p>Array of phi_jl</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler</span> <span class="kn">import</span> <span class="n">CompactBinaryPopulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span> <span class="o">=</span> <span class="n">CompactBinaryPopulation</span><span class="p">(</span><span class="n">z_min</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span> <span class="n">z_max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">m_min</span><span class="o">=</span><span class="mf">4.59</span><span class="p">,</span> <span class="n">m_max</span><span class="o">=</span><span class="mf">86.22</span><span class="p">,</span> <span class="n">event_type</span> <span class="o">=</span> <span class="s2">&quot;popI_II&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_1</span><span class="p">,</span> <span class="n">a_2</span><span class="p">,</span> <span class="n">tilt_1</span><span class="p">,</span> <span class="n">tilt_2</span><span class="p">,</span> <span class="n">phi_12</span><span class="p">,</span> <span class="n">phi_jl</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">binary_spin_BBH</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.solve_lens_equation1">
<span class="sig-prename descclassname"><span class="pre">ler.</span></span><span class="sig-name descname"><span class="pre">solve_lens_equation1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lens_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/multiprocessing_routine.html#solve_lens_equation1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.solve_lens_equation1" title="Link to this definition"></a></dt>
<dd><p>Function to solve the lens equation (min_image = 2)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><cite>list</cite></span></dt><dd><p>a list of parameters
lens_parameters[0] = min_images : minimum number of images
lens_parameters[1] = e1 : ellipticity
lens_parameters[2] = e2 : ellipticity
lens_parameters[3] = gamma : power-law index
lens_parameters[4] = gamma1 : shear
lens_parameters[5] = gamma2 : shear
lens_parameters[6] = zl : redshift of the lens
lens_parameters[7] = zs : redshift of the source
lens_parameters[8] = einstein_radius : Einstein radius
lens_parameters[9] = iteration : iteration number
lens_parameters[10:] = lens_model_list : numpy array of lens models</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>x_source</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>x position of the source in the source plane</p>
</dd>
<dt><strong>y_source</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>y position of the source in the source plane</p>
</dd>
<dt><strong>x0_image_position</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>x position of the images in the source plane</p>
</dd>
<dt><strong>x1_image_position</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>y position of the images in the source plane</p>
</dd>
<dt><strong>magnifications</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>magnification of the images</p>
</dd>
<dt><strong>time_delays</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>time-delay of the images</p>
</dd>
<dt><strong>nImages</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of images</p>
</dd>
<dt><strong>determinant</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>determinant of the hessian matrix</p>
</dd>
<dt><strong>trace</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>trace of the hessian matrix</p>
</dd>
<dt><strong>iteration</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>iteration number</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>weights for the caustic</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.multiprocessing_routine</span> <span class="kn">import</span> <span class="n">solve_lens_equation1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Pool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># lens parameters input contains 12 parameters [e1, e2, gamma, gamma1, gamma2, zl, zs, einstein_radius, iteration, lens_model_list]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_parameters1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.024069457093642648</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.016002190961948142</span><span class="p">,</span> <span class="mf">1.8945414936459974</span><span class="p">,</span> <span class="mf">0.10117465203892329</span><span class="p">,</span> <span class="mf">0.09600089396968613</span><span class="p">,</span> <span class="mf">0.2503743800068136</span><span class="p">,</span> <span class="mf">0.9418211055453296</span><span class="p">,</span> <span class="mf">2.5055790287104725e-06</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;EPL_NUMBA&#39;</span><span class="p">,</span> <span class="s1">&#39;SHEAR&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_parameters2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.04030088581646998</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.01419438113690042</span><span class="p">,</span> <span class="mf">2.0068239327017</span><span class="p">,</span> <span class="mf">0.08482718989370612</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.015393332086560785</span><span class="p">,</span> <span class="mf">1.0952303138971118</span><span class="p">,</span> <span class="mf">2.5534097159384417</span><span class="p">,</span> <span class="mf">1.0125570159563301e-06</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;EPL_NUMBA&#39;</span><span class="p">,</span> <span class="s1">&#39;SHEAR&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_arguments</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">lens_parameters1</span><span class="p">,</span> <span class="n">lens_parameters2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># solve the lens equation for each set of lens parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Pool</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">solve_lens_equation1</span><span class="p">,</span> <span class="n">input_arguments</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># result is a list of tuples</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># each tuple contains the output parameters of the function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># each output parameter contains x_source, y_source, x0_image_position, x1_image_position, magnifications, time_delays, nImages, determinant, trace, iteration, weights</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;magnification of images with lens parameters &#39;lens_parameters1&#39; is </span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">magnification of images with lens parameters &#39;lens_parameters1&#39; is [ 2.18973765 -1.27542831]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.solve_lens_equation2">
<span class="sig-prename descclassname"><span class="pre">ler.</span></span><span class="sig-name descname"><span class="pre">solve_lens_equation2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lens_parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/multiprocessing_routine.html#solve_lens_equation2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.solve_lens_equation2" title="Link to this definition"></a></dt>
<dd><p>Function to solve the lens equation (min_image &gt; 2)</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>lens_parameters</strong><span class="classifier"><cite>list</cite></span></dt><dd><p>a list of parameters
lens_parameters[0] = min_images : minimum number of images
lens_parameters[1] = e1 : ellipticity
lens_parameters[2] = e2 : ellipticity
lens_parameters[3] = gamma : power-law index
lens_parameters[4] = gamma1 : shear
lens_parameters[5] = gamma2 : shear
lens_parameters[6] = zl : redshift of the lens
lens_parameters[7] = zs : redshift of the source
lens_parameters[8] = einstein_radius : Einstein radius
lens_parameters[9] = iteration : iteration number
lens_parameters[10:] = lens_model_list : numpy array of lens models</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>x_source</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>x position of the source in the source plane</p>
</dd>
<dt><strong>y_source</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>y position of the source in the source plane</p>
</dd>
<dt><strong>x0_image_position</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>x position of the images in the source plane</p>
</dd>
<dt><strong>x1_image_position</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>y position of the images in the source plane</p>
</dd>
<dt><strong>magnifications</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>magnification of the images</p>
</dd>
<dt><strong>time_delays</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>time-delay of the images</p>
</dd>
<dt><strong>nImages</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>number of images</p>
</dd>
<dt><strong>determinant</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>determinant of the hessian matrix</p>
</dd>
<dt><strong>trace</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>trace of the hessian matrix</p>
</dd>
<dt><strong>iteration</strong><span class="classifier"><cite>int</cite></span></dt><dd><p>iteration number</p>
</dd>
<dt><strong>weights</strong><span class="classifier"><cite>float</cite></span></dt><dd><p>weights for the caustic</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ler.multiprocessing_routine</span> <span class="kn">import</span> <span class="n">solve_lens_equation2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Pool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># lens parameters input contains 12 parameters [e1, e2, gamma, gamma1, gamma2, zl, zs, einstein_radius, iteration, lens_model_list]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_parameters1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mf">0.024069457093642648</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.016002190961948142</span><span class="p">,</span> <span class="mf">1.8945414936459974</span><span class="p">,</span> <span class="mf">0.10117465203892329</span><span class="p">,</span> <span class="mf">0.09600089396968613</span><span class="p">,</span> <span class="mf">0.2503743800068136</span><span class="p">,</span> <span class="mf">0.9418211055453296</span><span class="p">,</span> <span class="mf">2.5055790287104725e-06</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;EPL_NUMBA&#39;</span><span class="p">,</span> <span class="s1">&#39;SHEAR&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lens_parameters2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.04030088581646998</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.01419438113690042</span><span class="p">,</span> <span class="mf">2.0068239327017</span><span class="p">,</span> <span class="mf">0.08482718989370612</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.015393332086560785</span><span class="p">,</span> <span class="mf">1.0952303138971118</span><span class="p">,</span> <span class="mf">2.5534097159384417</span><span class="p">,</span> <span class="mf">1.0125570159563301e-06</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;EPL_NUMBA&#39;</span><span class="p">,</span> <span class="s1">&#39;SHEAR&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_arguments</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">lens_parameters1</span><span class="p">,</span> <span class="n">lens_parameters2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># solve the lens equation for each set of lens parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">Pool</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">solve_lens_equation2</span><span class="p">,</span> <span class="n">input_arguments</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># result is a list of tuples</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># each tuple contains the output parameters of the function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># each output parameter contains x_source, y_source, x0_image_position, x1_image_position, magnifications, time_delays, nImages, determinant, trace, iteration, weights</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;magnification of images with lens parameters &#39;lens_parameters1&#39; is </span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">magnification of images with lens parameters &#39;lens_parameters1&#39; is [ 2.18973765 -1.27542831]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.add_dictionaries_together">
<span class="sig-prename descclassname"><span class="pre">ler.</span></span><span class="sig-name descname"><span class="pre">add_dictionaries_together</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dictionary1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dictionary2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/helperroutines.html#add_dictionaries_together"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.add_dictionaries_together" title="Link to this definition"></a></dt>
<dd><p>Adds two dictionaries with the same keys together.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ler.rejection_sample">
<span class="sig-prename descclassname"><span class="pre">ler.</span></span><span class="sig-name descname"><span class="pre">rejection_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/ler/helperroutines.html#rejection_sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ler.rejection_sample" title="Link to this definition"></a></dt>
<dd><p>Helper function for rejection sampling from a pdf with maximum and minimum arguments.
Input parameters:</p>
<blockquote>
<div><p>pdf: the pdf to sample from
xmin: the minimum argument of the pdf
xmax: the maximum argument of the pdf
size: the number of samples to draw</p>
</div></blockquote>
<dl class="simple">
<dt>Output:</dt><dd><p>samples: the samples drawn from the pdf</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Phurailatpam Hemantakumar.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>